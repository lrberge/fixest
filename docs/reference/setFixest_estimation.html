<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function sets globally the default arguments of fixest estimations."><title>Default arguments for fixest estimations — setFixest_estimation • fixest</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Default arguments for fixest estimations — setFixest_estimation"><meta property="og:description" content="This function sets globally the default arguments of fixest estimations."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">fixest</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.11.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/fixest_walkthrough.html">Fast Fixed-Effects Estimation: Short Introduction</a>
    <a class="dropdown-item" href="../articles/multiple_estimations.html">Multiple estimations</a>
    <a class="dropdown-item" href="../articles/standard_errors.html">On standard-errors</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Estimation tables</h6>
    <a class="dropdown-item" href="../articles/exporting_tables.html">Exporting estimation tables</a>
    <a class="dropdown-item" href="../articles/etable_new_features.html">`etable`: new features in `fixest` 0.10.2</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/lrberge/fixest/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Default arguments for fixest estimations</h1>
      <small class="dont-index">Source: <a href="https://github.com/lrberge/fixest/blob/HEAD/R/MiscFuns.R" class="external-link"><code>R/MiscFuns.R</code></a></small>
      <div class="d-none name"><code>setFixest_estimation.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function sets globally the default arguments of fixest estimations.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">setFixest_estimation</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  panel.id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fixef.rm <span class="op">=</span> <span class="st">"perfect"</span>,</span>
<span>  fixef.tol <span class="op">=</span> <span class="fl">1e-06</span>,</span>
<span>  fixef.iter <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  collin.tol <span class="op">=</span> <span class="fl">1e-10</span>,</span>
<span>  lean <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  warn <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  combine.quick <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  demeaned <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  mem.clean <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  glm.iter <span class="op">=</span> <span class="fl">25</span>,</span>
<span>  glm.tol <span class="op">=</span> <span class="fl">1e-08</span>,</span>
<span>  reset <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">getFixest_estimation</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>A data.frame containing the necessary variables to run the model. The variables of the non-linear right hand side of the formula are identified with this <code>data.frame</code> names. Can also be a matrix.</p></dd>


<dt>panel.id</dt>
<dd><p>The panel identifiers. Can either be: i) a one sided formula (e.g. <code>panel.id = ~id+time</code>), ii) a character vector of length 2 (e.g. <code>panel.id=c('id', 'time')</code>, or iii) a character scalar of two variables separated by a comma (e.g. <code>panel.id='id,time'</code>). Note that you can combine variables with <code>^</code> only inside formulas (see the dedicated section in <code><a href="feols.html">feols</a></code>).</p></dd>


<dt>fixef.rm</dt>
<dd><p>Can be equal to "perfect" (default), "singleton", "both" or "none". Controls which observations are to be removed. If "perfect", then observations having a fixed-effect with perfect fit (e.g. only 0 outcomes in Poisson estimations) will be removed. If "singleton", all observations for which a fixed-effect appears only once will be removed. The meaning of "both" and "none" is direct.</p></dd>


<dt>fixef.tol</dt>
<dd><p>Precision used to obtain the fixed-effects. Defaults to <code>1e-5</code>. It corresponds to the maximum absolute difference allowed between two coefficients of successive iterations. Argument <code>fixef.tol</code> cannot be lower than <code>10000*.Machine$double.eps</code>. Note that this parameter is dynamically controlled by the algorithm.</p></dd>


<dt>fixef.iter</dt>
<dd><p>Maximum number of iterations in fixed-effects algorithm (only in use for 2+ fixed-effects). Default is 10000.</p></dd>


<dt>collin.tol</dt>
<dd><p>Numeric scalar, default is <code>1e-10</code>. Threshold deciding when variables should be considered collinear and subsequently removed from the estimation. Higher values means more variables will be removed (if there is presence of collinearity). One signal of presence of collinearity is t-stats that are extremely low (for instance when t-stats &lt; 1e-3).</p></dd>


<dt>lean</dt>
<dd><p>Logical, default is <code>FALSE</code>. If <code>TRUE</code> then all large objects are removed from the returned result: this will save memory but will block the possibility to use many methods. It is recommended to use the arguments <code>se</code> or <code>cluster</code> to obtain the appropriate standard-errors at estimation time, since obtaining different SEs won't be possible afterwards.</p></dd>


<dt>verbose</dt>
<dd><p>Integer. Higher values give more information. In particular, it can detail the number of iterations in the demeaning algorithm (the first number is the left-hand-side, the other numbers are the right-hand-side variables).</p></dd>


<dt>warn</dt>
<dd><p>Logical, default is <code>TRUE</code>. Whether warnings should be displayed (concerns warnings relating to convergence state).</p></dd>


<dt>combine.quick</dt>
<dd><p>Logical. When you combine different variables to transform them into a single fixed-effects you can do e.g. <code>y ~ x | paste(var1, var2)</code>. The algorithm provides a shorthand to do the same operation: <code>y ~ x | var1^var2</code>. Because pasting variables is a costly operation, the internal algorithm may use a numerical trick to hasten the process. The cost of doing so is that you lose the labels. If you are interested in getting the value of the fixed-effects coefficients after the estimation, you should use <code>combine.quick = FALSE</code>. By default it is equal to <code>FALSE</code> if the number of observations is lower than 50,000, and to <code>TRUE</code> otherwise.</p></dd>


<dt>demeaned</dt>
<dd><p>Logical, default is <code>FALSE</code>. Only used in the presence of fixed-effects: should the centered variables be returned? If <code>TRUE</code>, it creates the items <code>y_demeaned</code> and <code>X_demeaned</code>.</p></dd>


<dt>mem.clean</dt>
<dd><p>Logical, default is <code>FALSE</code>. Only to be used if the data set is large compared to the available RAM. If <code>TRUE</code> then intermediary objects are removed as much as possible and <code><a href="https://rdrr.io/r/base/gc.html" class="external-link">gc</a></code> is run before each substantial C++ section in the internal code to avoid memory issues.</p></dd>


<dt>glm.iter</dt>
<dd><p>Number of iterations of the glm algorithm. Default is 25.</p></dd>


<dt>glm.tol</dt>
<dd><p>Tolerance level for the glm algorithm. Default is <code>1e-8</code>.</p></dd>


<dt>reset</dt>
<dd><p>Logical scalar, default is <code>FALSE</code>. Whether to reset all values.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The function <code>getFixest_estimation</code> returns the currently set global defaults.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># Example: removing singletons is FALSE by default</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># =&gt; changing this default</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Let's create data with singletons</span></span></span>
<span class="r-in"><span><span class="va">base</span> <span class="op">=</span> <span class="va">iris</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">base</span><span class="op">)</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"y"</span>, <span class="st">"x1"</span>, <span class="st">"x2"</span>, <span class="st">"x3"</span>, <span class="st">"species"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">base</span><span class="op">$</span><span class="va">fe_singletons</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">base</span><span class="op">$</span><span class="va">species</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">base</span><span class="op">$</span><span class="va">fe_singletons</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span> <span class="op">=</span> <span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">res</span>          <span class="op">=</span> <span class="fu"><a href="feols.html">feols</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">+</span> <span class="va">x2</span> <span class="op">|</span> <span class="va">fe_singletons</span>, <span class="va">base</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res_noSingle</span> <span class="op">=</span> <span class="fu"><a href="feols.html">feols</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">+</span> <span class="va">x2</span> <span class="op">|</span> <span class="va">fe_singletons</span>, <span class="va">base</span>, fixef.rm <span class="op">=</span> <span class="st">"single"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> NOTE: 5 fixed-effect singletons were removed (5 observations).</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># New defaults</span></span></span>
<span class="r-in"><span><span class="fu">setFixest_estimation</span><span class="op">(</span>fixef.rm <span class="op">=</span> <span class="st">"single"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res_newDefault</span> <span class="op">=</span> <span class="fu"><a href="feols.html">feols</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">+</span> <span class="va">x2</span> <span class="op">|</span> <span class="va">fe_singletons</span>, <span class="va">base</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> NOTE: 5 fixed-effect singletons were removed (5 observations).</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="etable.html">etable</a></span><span class="op">(</span><span class="va">res</span>, <span class="va">res_noSingle</span>, <span class="va">res_newDefault</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                res     res_noSingle   res_newDefault</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dependent Var.:                  y                y                y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1                0.4274* (0.1409)  0.4274 (0.1615)  0.4274 (0.1615)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x2              0.7774*** (0.1099) 0.7774* (0.1260) 0.7774* (0.1260)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fixed-Effects:  ------------------ ---------------- ----------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> fe_singletons                  Yes              Yes              Yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _______________ __________________ ________________ ________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S.E.: Clustered  by: fe_singletons by: fe_singlet.. by: fe_singlet..</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations                   150              145              145</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R2                         0.86452          0.85729          0.85729</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Within R2                  0.64201          0.64201          0.64201</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Resetting the defaults</span></span></span>
<span class="r-in"><span><span class="fu">setFixest_estimation</span><span class="op">(</span>reset <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Laurent Berge.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

