<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Treated and control sample descriptives — did_means • fixest</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Treated and control sample descriptives — did_means"><meta property="og:description" content="This function shows the means and standard-deviations of several variables conditional on whether they are from the treated or the control group. The groups can further be split according to a pre/post variable. Results can be seamlessly be exported to Latex."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fixest</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.10.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/etable_new_features.html">`etable`: new features in `fixest` 0.10.2</a>
    </li>
    <li>
      <a href="../articles/exporting_tables.html">Exporting estimation tables</a>
    </li>
    <li>
      <a href="../articles/fixest_walkthrough.html">Fast Fixed-Effects Estimation: Short introduction</a>
    </li>
    <li>
      <a href="../articles/multiple_estimations.html">Multiple estimations</a>
    </li>
    <li>
      <a href="../articles/standard_errors.html">On standard-errors</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/lrberge/fixest/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Treated and control sample descriptives</h1>
    <small class="dont-index">Source: <a href="https://github.com/lrberge/fixest/blob/HEAD/R/MiscFuns.R" class="external-link"><code>R/MiscFuns.R</code></a></small>
    <div class="hidden name"><code>did_means.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function shows the means and standard-deviations of several variables conditional on whether they are from the treated or the control group. The groups can further be split according to a pre/post variable. Results can be seamlessly be exported to Latex.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">did_means</span><span class="op">(</span>
  <span class="va">fml</span>,
  <span class="va">base</span>,
  <span class="va">treat_var</span>,
  <span class="va">post_var</span>,
  tex <span class="op">=</span> <span class="cn">FALSE</span>,
  <span class="va">treat_dict</span>,
  dict <span class="op">=</span> <span class="fu"><a href="setFixest_dict.html">getFixest_dict</a></span><span class="op">(</span><span class="op">)</span>,
  <span class="va">file</span>,
  replace <span class="op">=</span> <span class="cn">FALSE</span>,
  <span class="va">title</span>,
  <span class="va">label</span>,
  raw <span class="op">=</span> <span class="cn">FALSE</span>,
  <span class="va">indiv</span>,
  <span class="va">treat_first</span>,
  prepostnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Before"</span>, <span class="st">"After"</span><span class="op">)</span>,
  diff.inv <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>fml</dt>
<dd><p>Either a formula of the type <code>var1 + ... + varN ~ treat</code> or <code>var1 + ... + varN ~ treat | post</code>. Either a data.frame/matrix containing all the variables for which the means are to be computed (they must be numeric of course). Both the treatment and the post variables must contain only exactly two values. You can use a point to select all the variables of the data set: <code>. ~ treat</code>.</p></dd>
<dt>base</dt>
<dd><p>A data base containing all the variables in the formula <code>fml</code>.</p></dd>
<dt>treat_var</dt>
<dd><p>Only if argument <code>fml</code> is *not* a formula. The vector identifying the treated and the control observations (the vector can be of any type but must contain only two possible values). Must be of the same length as the data.</p></dd>
<dt>post_var</dt>
<dd><p>Only if argument <code>fml</code> is *not* a formula. The vector identifying the periods (pre/post) of the observations (the vector can be of any type but must contain only two possible values). The first value (in the sorted sense) of the vector is taken as the pre period. Must be of the same length as the data.</p></dd>
<dt>tex</dt>
<dd><p>Should the result be displayed in Latex? Default is <code>FALSE</code>. Automatically set to <code>TRUE</code> if the table is to be saved in a file using the argument <code>file</code>.</p></dd>
<dt>treat_dict</dt>
<dd><p>A character vector of length two. What are the names of the treated and the control? This should be a dictionary: e.g. <code>c("1"="Treated", "0" = "Control")</code>.</p></dd>
<dt>dict</dt>
<dd><p>A named character vector. A dictionary between the variables names and an alias. For instance <code>dict=c("x"="Inflation Rate")</code> would replace the variable name <code>x</code> by “Inflation Rate”.</p></dd>
<dt>file</dt>
<dd><p>A file path. If given, the table is written in Latex into this file.</p></dd>
<dt>replace</dt>
<dd><p>Default is <code>TRUE</code>, which means that when the table is exported, the existing file is not erased.</p></dd>
<dt>title</dt>
<dd><p>Character string giving the Latex title of the table. (Only if exported.)</p></dd>
<dt>label</dt>
<dd><p>Character string giving the Latex label of the table. (Only if exported.)</p></dd>
<dt>raw</dt>
<dd><p>Logical, default is <code>FALSE</code>. If <code>TRUE</code>, it returns the information without formatting.</p></dd>
<dt>indiv</dt>
<dd><p>Either the variable name of individual identifiers, a one sided formula, or a vector. If the data is that of a panel, this can be used to track the number of individuals per group.</p></dd>
<dt>treat_first</dt>
<dd><p>Which value of the 'treatment' vector should appear on the left? By default the max value appears first (e.g. if the treatment variable is a 0/1 vector, 1 appears first).</p></dd>
<dt>prepostnames</dt>
<dd><p>Only if there is a 'post' variable. The names of the pre and post periods to be displayed in Latex. Default is <code>c("Before", "After")</code>.</p></dd>
<dt>diff.inv</dt>
<dd><p>Logical, default to <code>FALSE</code>. Whether to inverse the difference.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>It returns a data.frame or a Latex table with the conditional means and statistical differences between the groups.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>By default, when the user tries to apply this function to nun-numeric variables, an error is raised. The exception is when the all variables are selected with the dot (like in <code>. ~ treat</code>. In this case, non-numeric variables are automatically omitted (with a message).</p>
<p>NAs are removed automatically: if the data contains NAs an information message will be prompted. First all observations containing NAs relating to the treatment or post variables are removed. Then if there are still NAs for the variables, they are excluded separately for each variable, and a new message detailing the NA breakup is prompted.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="co"># Playing around with the DiD data</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">base_did</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># means of treat/control</span></span>
<span class="r-in"><span class="fu">did_means</span><span class="op">(</span><span class="va">y</span><span class="op">+</span><span class="va">x1</span><span class="op">+</span><span class="va">period</span><span class="op">~</span><span class="va">treat</span>, <span class="va">base_did</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           vars    cond: 1      cond: 0 Difference t-stat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            y    3.3 (6)     0.68 (5)       2.64   7.83</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           x1 0.13 (3.1) -0.066 (2.8)      0.199    1.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       period  5.5 (2.9)    5.5 (2.9)          0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 Observations        550          530                  </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># same but inverting the difference</span></span>
<span class="r-in"><span class="fu">did_means</span><span class="op">(</span><span class="va">y</span><span class="op">+</span><span class="va">x1</span><span class="op">+</span><span class="va">period</span><span class="op">~</span><span class="va">treat</span>, <span class="va">base_did</span>, diff.inv <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           vars    cond: 1      cond: 0 Difference t-stat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            y    3.3 (6)     0.68 (5)      -2.64  -7.83</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           x1 0.13 (3.1) -0.066 (2.8)     -0.199   -1.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       period  5.5 (2.9)    5.5 (2.9)          0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 Observations        550          530                  </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># now treat/control, before/after</span></span>
<span class="r-in"><span class="fu">did_means</span><span class="op">(</span><span class="va">y</span><span class="op">+</span><span class="va">x1</span><span class="op">+</span><span class="va">period</span><span class="op">~</span><span class="va">treat</span><span class="op">|</span><span class="va">post</span>, <span class="va">base_did</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           vars    cond: 1     cond: 0 Difference t-stat     cond: 1     cond: 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            y 0.47 (5.1)    0.32 (5)      0.142  0.326   6.2 (5.5)       1 (5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           x1 0.17 (3.1) 0.046 (2.9)      0.125  0.487 0.095 (3.1) -0.18 (2.8)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       period    3 (1.4)     3 (1.4)          0      0     8 (1.4)     8 (1.4)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 Observations        275         265                           275         265</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Difference t-stat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       5.14   11.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      0.272   1.07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3          0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                  </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># same but with a new line giving the number of unique "indiv" for each case</span></span>
<span class="r-in"><span class="fu">did_means</span><span class="op">(</span><span class="va">y</span><span class="op">+</span><span class="va">x1</span><span class="op">+</span><span class="va">period</span><span class="op">~</span><span class="va">treat</span><span class="op">|</span><span class="va">post</span>, <span class="va">base_did</span>, indiv <span class="op">=</span> <span class="st">"id"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            vars    cond: 1     cond: 0 Difference t-stat     cond: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             y 0.47 (5.1)    0.32 (5)      0.142  0.326   6.2 (5.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            x1 0.17 (3.1) 0.046 (2.9)      0.125  0.487 0.095 (3.1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        period    3 (1.4)     3 (1.4)          0      0     8 (1.4)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  Observations        275         265                           275</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 # Individuals         55          53                            55</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       cond: 0 Difference t-stat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       1 (5)       5.14   11.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 -0.18 (2.8)      0.272   1.07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     8 (1.4)          0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         265                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5          53                  </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># same but with the treat case "0" coming first</span></span>
<span class="r-in"><span class="fu">did_means</span><span class="op">(</span><span class="va">y</span><span class="op">+</span><span class="va">x1</span><span class="op">+</span><span class="va">period</span><span class="op">~</span><span class="va">treat</span><span class="op">|</span><span class="va">post</span>, <span class="va">base_did</span>, indiv <span class="op">=</span> <span class="op">~</span><span class="va">id</span>, treat_first <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            vars     cond: 0    cond: 1 Difference t-stat     cond: 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             y    0.32 (5) 0.47 (5.1)     -0.142 -0.326       1 (5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            x1 0.046 (2.9) 0.17 (3.1)     -0.125 -0.487 -0.18 (2.8)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        period     3 (1.4)    3 (1.4)          0      0     8 (1.4)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  Observations         265        275                           265</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 # Individuals          53         55                            53</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       cond: 1 Difference t-stat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   6.2 (5.5)      -5.14  -11.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.095 (3.1)     -0.272  -1.07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     8 (1.4)          0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         275                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5          55                  </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Selecting all the variables with "."</span></span>
<span class="r-in"><span class="fu">did_means</span><span class="op">(</span><span class="va">.</span><span class="op">~</span><span class="va">treat</span><span class="op">|</span><span class="va">post</span>, <span class="va">base_did</span>, indiv <span class="op">=</span> <span class="st">"id"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            vars    cond: 1     cond: 0 Difference t-stat     cond: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             y 0.47 (5.1)    0.32 (5)      0.142  0.326   6.2 (5.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            x1 0.17 (3.1) 0.046 (2.9)      0.125  0.487 0.095 (3.1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        period    3 (1.4)     3 (1.4)          0      0     8 (1.4)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  Observations        275         265                           275</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 # Individuals         55          53                            55</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       cond: 0 Difference t-stat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       1 (5)       5.14   11.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 -0.18 (2.8)      0.272   1.07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     8 (1.4)          0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         265                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5          53                  </span>
<span class="r-in"></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Laurent Berge.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

