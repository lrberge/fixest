<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Fixed-effects OLS estimation — feols • fixest</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Fixed-effects OLS estimation — feols"><meta property="og:description" content="Estimates OLS with any number of fixed-effects."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fixest</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.10.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/etable_new_features.html">`etable`: new features in `fixest` 0.10.2</a>
    </li>
    <li>
      <a href="../articles/exporting_tables.html">Exporting estimation tables</a>
    </li>
    <li>
      <a href="../articles/fixest_walkthrough.html">Fast Fixed-Effects Estimation: Short introduction</a>
    </li>
    <li>
      <a href="../articles/multiple_estimations.html">Multiple estimations</a>
    </li>
    <li>
      <a href="../articles/standard_errors.html">On standard-errors</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/lrberge/fixest/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fixed-effects OLS estimation</h1>
    <small class="dont-index">Source: <a href="https://github.com/lrberge/fixest/blob/HEAD/R/ESTIMATION_FUNS.R" class="external-link"><code>R/ESTIMATION_FUNS.R</code></a></small>
    <div class="hidden name"><code>feols.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Estimates OLS with any number of fixed-effects.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">feols</span><span class="op">(</span>
  <span class="va">fml</span>,
  <span class="va">data</span>,
  <span class="va">vcov</span>,
  <span class="va">weights</span>,
  <span class="va">offset</span>,
  <span class="va">subset</span>,
  <span class="va">split</span>,
  <span class="va">fsplit</span>,
  <span class="va">cluster</span>,
  <span class="va">se</span>,
  <span class="va">ssc</span>,
  <span class="va">panel.id</span>,
  <span class="va">fixef</span>,
  fixef.rm <span class="op">=</span> <span class="st">"none"</span>,
  fixef.tol <span class="op">=</span> <span class="fl">1e-06</span>,
  fixef.iter <span class="op">=</span> <span class="fl">10000</span>,
  collin.tol <span class="op">=</span> <span class="fl">1e-10</span>,
  nthreads <span class="op">=</span> <span class="fu"><a href="setFixest_nthreads.html">getFixest_nthreads</a></span><span class="op">(</span><span class="op">)</span>,
  lean <span class="op">=</span> <span class="cn">FALSE</span>,
  verbose <span class="op">=</span> <span class="fl">0</span>,
  warn <span class="op">=</span> <span class="cn">TRUE</span>,
  notes <span class="op">=</span> <span class="fu"><a href="setFixest_notes.html">getFixest_notes</a></span><span class="op">(</span><span class="op">)</span>,
  only.coef <span class="op">=</span> <span class="cn">FALSE</span>,
  <span class="va">combine.quick</span>,
  demeaned <span class="op">=</span> <span class="cn">FALSE</span>,
  mem.clean <span class="op">=</span> <span class="cn">FALSE</span>,
  only.env <span class="op">=</span> <span class="cn">FALSE</span>,
  <span class="va">env</span>,
  <span class="va">...</span>
<span class="op">)</span>

<span class="fu">feols.fit</span><span class="op">(</span>
  <span class="va">y</span>,
  <span class="va">X</span>,
  <span class="va">fixef_df</span>,
  <span class="va">vcov</span>,
  <span class="va">offset</span>,
  <span class="va">split</span>,
  <span class="va">fsplit</span>,
  <span class="va">cluster</span>,
  <span class="va">se</span>,
  <span class="va">ssc</span>,
  <span class="va">weights</span>,
  <span class="va">subset</span>,
  fixef.rm <span class="op">=</span> <span class="st">"perfect"</span>,
  fixef.tol <span class="op">=</span> <span class="fl">1e-06</span>,
  fixef.iter <span class="op">=</span> <span class="fl">10000</span>,
  collin.tol <span class="op">=</span> <span class="fl">1e-10</span>,
  nthreads <span class="op">=</span> <span class="fu"><a href="setFixest_nthreads.html">getFixest_nthreads</a></span><span class="op">(</span><span class="op">)</span>,
  lean <span class="op">=</span> <span class="cn">FALSE</span>,
  warn <span class="op">=</span> <span class="cn">TRUE</span>,
  notes <span class="op">=</span> <span class="fu"><a href="setFixest_notes.html">getFixest_notes</a></span><span class="op">(</span><span class="op">)</span>,
  mem.clean <span class="op">=</span> <span class="cn">FALSE</span>,
  verbose <span class="op">=</span> <span class="fl">0</span>,
  only.env <span class="op">=</span> <span class="cn">FALSE</span>,
  only.coef <span class="op">=</span> <span class="cn">FALSE</span>,
  <span class="va">env</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>fml</dt>
<dd><p>A formula representing the relation to be estimated. For example: <code>fml = z~x+y</code>. To include fixed-effects, insert them in this formula using a pipe: e.g. <code>fml = z~x+y | fe_1+fe_2</code>. You can combine two fixed-effects with <code>^</code>: e.g. <code>fml = z~x+y|fe_1^fe_2</code>, see details. You can also use variables with varying slopes using square brackets: e.g. in <code>fml = z~y|fe_1[x] + fe_2</code>, see details. To add IVs, insert the endogenous vars./instruments after a pipe, like in <code>y ~ x | c(x_endo1, x_endo2) ~ x_inst1 + x_inst2</code>. Note that it should always be the last element, see details. Multiple estimations can be performed at once: for multiple dep. vars, wrap them in <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code>: ex <code>c(y1, y2)</code>. For multiple indep. vars, use the stepwise functions: ex <code>x1 + csw(x2, x3)</code>. The formula <code>fml = c(y1, y2) ~ x1 + cw0(x2, x3)</code> leads to 6 estimation, see details. Square brackets starting with a dot can be used to call global variables: <code>y.[i] ~ x.[1:2]</code> will lead to <code>y3 ~ x1 + x2</code> if <code>i</code> is equal to 3 in the current environment (see details in <code><a href="xpd.html">xpd</a></code>).</p></dd>
<dt>data</dt>
<dd><p>A data.frame containing the necessary variables to run the model. The variables of the non-linear right hand side of the formula are identified with this <code>data.frame</code> names. Can also be a matrix.</p></dd>
<dt>vcov</dt>
<dd><p>Versatile argument to specify the VCOV. In general, it is either a character scalar equal to a VCOV type, either a formula of the form: <code>vcov_type ~ variables</code>. The VCOV types implemented are: "iid", "hetero" (or "HC1"), "cluster", "twoway", "NW" (or "newey_west"), "DK" (or "driscoll_kraay"), and "conley". It also accepts object from <code><a href="vcov_cluster.html">vcov_cluster</a></code>, <code><a href="vcov_hac.html">vcov_NW</a></code>, <code><a href="vcov_hac.html">NW</a></code>, <code><a href="vcov_hac.html">vcov_DK</a></code>, <code><a href="vcov_hac.html">DK</a></code>, <code><a href="vcov_conley.html">vcov_conley</a></code> and <code><a href="vcov_conley.html">conley</a></code>. It also accepts covariance matrices computed externally. Finally it accepts functions to compute the covariances. See the `vcov` documentation in the <a href="https://lrberge.github.io/fixest/articles/fixest_walkthrough.html#the-vcov-argument-1" class="external-link">vignette</a>.</p></dd>
<dt>weights</dt>
<dd><p>A formula or a numeric vector. Each observation can be weighted, the weights must be greater than 0. If equal to a formula, it should be one-sided: for example <code>~ var_weight</code>.</p></dd>
<dt>offset</dt>
<dd><p>A formula or a numeric vector. An offset can be added to the estimation. If equal to a formula, it should be of the form (for example) <code>~0.5*x**2</code>. This offset is linearly added to the elements of the main formula 'fml'.</p></dd>
<dt>subset</dt>
<dd><p>A vector (logical or numeric) or a one-sided formula. If provided, then the estimation will be performed only on the observations defined by this argument.</p></dd>
<dt>split</dt>
<dd><p>A one sided formula representing a variable (eg <code>split = ~var</code>) or a vector. If provided, the sample is split according to the variable and one estimation is performed for each value of that variable. If you also want to include the estimation for the full sample, use the argument <code>fsplit</code> instead.</p></dd>
<dt>fsplit</dt>
<dd><p>A one sided formula representing a variable (eg <code>split = ~var</code>) or a vector. If provided, the sample is split according to the variable and one estimation is performed for each value of that variable. This argument is the same as split but also includes the full sample as the first estimation.</p></dd>
<dt>cluster</dt>
<dd><p>Tells how to cluster the standard-errors (if clustering is requested). Can be either a list of vectors, a character vector of variable names, a formula or an integer vector. Assume we want to perform 2-way clustering over <code>var1</code> and <code>var2</code> contained in the data.frame <code>base</code> used for the estimation. All the following <code>cluster</code> arguments are valid and do the same thing: <code>cluster = base[, c("var1", "var2")]</code>, <code>cluster = c("var1", "var2")</code>, <code>cluster = ~var1+var2</code>. If the two variables were used as fixed-effects in the estimation, you can leave it blank with <code>vcov = "twoway"</code> (assuming <code>var1</code> [resp. <code>var2</code>] was the 1st [res. 2nd] fixed-effect). You can interact two variables using <code>^</code> with the following syntax: <code>cluster = ~var1^var2</code> or <code>cluster = "var1^var2"</code>.</p></dd>
<dt>se</dt>
<dd><p>Character scalar. Which kind of standard error should be computed: “standard”, “hetero”, “cluster”, “twoway”, “threeway” or “fourway”? By default if there are clusters in the estimation: <code>se = "cluster"</code>, otherwise <code>se = "iid"</code>. Note that this argument is deprecated, you should use <code>vcov</code> instead.</p></dd>
<dt>ssc</dt>
<dd><p>An object of class <code>ssc.type</code> obtained with the function <code><a href="ssc.html">ssc</a></code>. Represents how the degree of freedom correction should be done.You must use the function <code><a href="ssc.html">ssc</a></code> for this argument. The arguments and defaults of the function <code><a href="ssc.html">ssc</a></code> are: <code>adj = TRUE</code>, <code>fixef.K="nested"</code>, <code>cluster.adj = TRUE</code>, <code>cluster.df = "min"</code>, <code>t.df = "min"</code>, <code>fixef.force_exact=FALSE)</code>. See the help of the function <code><a href="ssc.html">ssc</a></code> for details.</p></dd>
<dt>panel.id</dt>
<dd><p>The panel identifiers. Can either be: i) a one sided formula (e.g. <code>panel.id = ~id+time</code>), ii) a character vector of length 2 (e.g. <code>panel.id=c('id', 'time')</code>, or iii) a character scalar of two variables separated by a comma (e.g. <code>panel.id='id,time'</code>). Note that you can combine variables with <code>^</code> only inside formulas (see the dedicated section in <code>feols</code>).</p></dd>
<dt>fixef</dt>
<dd><p>Character vector. The names of variables to be used as fixed-effects. These variables should contain the identifier of each observation (e.g., think of it as a panel identifier). Note that the recommended way to include fixed-effects is to insert them directly in the formula.</p></dd>
<dt>fixef.rm</dt>
<dd><p>Can be equal to "perfect" (default), "singleton", "both" or "none". Controls which observations are to be removed. If "perfect", then observations having a fixed-effect with perfect fit (e.g. only 0 outcomes in Poisson estimations) will be removed. If "singleton", all observations for which a fixed-effect appears only once will be removed. The meaning of "both" and "none" is direct.</p></dd>
<dt>fixef.tol</dt>
<dd><p>Precision used to obtain the fixed-effects. Defaults to <code>1e-5</code>. It corresponds to the maximum absolute difference allowed between two coefficients of successive iterations. Argument <code>fixef.tol</code> cannot be lower than <code>10000*.Machine$double.eps</code>. Note that this parameter is dynamically controlled by the algorithm.</p></dd>
<dt>fixef.iter</dt>
<dd><p>Maximum number of iterations in fixed-effects algorithm (only in use for 2+ fixed-effects). Default is 10000.</p></dd>
<dt>collin.tol</dt>
<dd><p>Numeric scalar, default is <code>1e-10</code>. Threshold deciding when variables should be considered collinear and subsequently removed from the estimation. Higher values means more variables will be removed (if there is presence of collinearity). One signal of presence of collinearity is t-stats that are extremely low (for instance when t-stats &lt; 1e-3).</p></dd>
<dt>nthreads</dt>
<dd><p>The number of threads. Can be: a) an integer lower than, or equal to, the maximum number of threads; b) 0: meaning all available threads will be used; c) a number strictly between 0 and 1 which represents the fraction of all threads to use. The default is to use 50% of all threads. You can set permanently the number of threads used within this package using the function <code><a href="setFixest_nthreads.html">setFixest_nthreads</a></code>.</p></dd>
<dt>lean</dt>
<dd><p>Logical, default is <code>FALSE</code>. If <code>TRUE</code> then all large objects are removed from the returned result: this will save memory but will block the possibility to use many methods. It is recommended to use the arguments <code>se</code> or <code>cluster</code> to obtain the appropriate standard-errors at estimation time, since obtaining different SEs won't be possible afterwards.</p></dd>
<dt>verbose</dt>
<dd><p>Integer. Higher values give more information. In particular, it can detail the number of iterations in the demeaning algorithm (the first number is the left-hand-side, the other numbers are the right-hand-side variables).</p></dd>
<dt>warn</dt>
<dd><p>Logical, default is <code>TRUE</code>. Whether warnings should be displayed (concerns warnings relating to convergence state).</p></dd>
<dt>notes</dt>
<dd><p>Logical. By default, two notes are displayed: when NAs are removed (to show additional information) and when some observations are removed because of collinearity. To avoid displaying these messages, you can set <code>notes = FALSE</code>. You can remove these messages permanently by using <code>setFixest_notes(FALSE)</code>.</p></dd>
<dt>only.coef</dt>
<dd><p>Logical, default is <code>FALSE</code>. If <code>TRUE</code>, then only the estimated coefficients are returned. Note that the length of the vector returned is always the length of the number of coefficients to be estimated: this means that the variables found to be collinear are returned with an NA value.</p></dd>
<dt>combine.quick</dt>
<dd><p>Logical. When you combine different variables to transform them into a single fixed-effects you can do e.g. <code>y ~ x | paste(var1, var2)</code>. The algorithm provides a shorthand to do the same operation: <code>y ~ x | var1^var2</code>. Because pasting variables is a costly operation, the internal algorithm may use a numerical trick to hasten the process. The cost of doing so is that you lose the labels. If you are interested in getting the value of the fixed-effects coefficients after the estimation, you should use <code>combine.quick = FALSE</code>. By default it is equal to <code>FALSE</code> if the number of observations is lower than 50,000, and to <code>TRUE</code> otherwise.</p></dd>
<dt>demeaned</dt>
<dd><p>Logical, default is <code>FALSE</code>. Only used in the presence of fixed-effects: should the centered variables be returned? If <code>TRUE</code>, it creates the items <code>y_demeaned</code> and <code>X_demeaned</code>.</p></dd>
<dt>mem.clean</dt>
<dd><p>Logical, default is <code>FALSE</code>. Only to be used if the data set is large compared to the available RAM. If <code>TRUE</code> then intermediary objects are removed as much as possible and <code><a href="https://rdrr.io/r/base/gc.html" class="external-link">gc</a></code> is run before each substantial C++ section in the internal code to avoid memory issues.</p></dd>
<dt>only.env</dt>
<dd><p>(Advanced users.) Logical, default is <code>FALSE</code>. If <code>TRUE</code>, then only the environment used to make the estimation is returned.</p></dd>
<dt>env</dt>
<dd><p>(Advanced users.) A <code>fixest</code> environment created by a <code>fixest</code> estimation with <code>only.env = TRUE</code>. Default is missing. If provided, the data from this environment will be used to perform the estimation.</p></dd>
<dt>...</dt>
<dd><p>Not currently used.</p></dd>
<dt>y</dt>
<dd><p>Numeric vector/matrix/data.frame of the dependent variable(s). Multiple dependent variables will return a <code>fixest_multi</code> object.</p></dd>
<dt>X</dt>
<dd><p>Numeric matrix of the regressors.</p></dd>
<dt>fixef_df</dt>
<dd><p>Matrix/data.frame of the fixed-effects.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A <code>fixest</code> object. Note that <code>fixest</code> objects contain many elements and most of them are for internal use, they are presented here only for information. To access them, it is safer to use the user-level methods (e.g. <code><a href="vcov.fixest.html">vcov.fixest</a></code>, <code><a href="resid.fixest.html">resid.fixest</a></code>, etc) or functions (like for instance <code><a href="fitstat.html">fitstat</a></code> to access any fit statistic).</p>
<dl><dt>nobs</dt>
<dd><p>The number of observations.</p></dd>
<dt>fml</dt>
<dd><p>The linear formula of the call.</p></dd>
<dt>call</dt>
<dd><p>The call of the function.</p></dd>
<dt>method</dt>
<dd><p>The method used to estimate the model.</p></dd>
<dt>family</dt>
<dd><p>The family used to estimate the model.</p></dd>
<dt>fml_all</dt>
<dd><p>A list containing different parts of the formula. Always contain the linear formula. Then depending on the cases: <code>fixef</code>: the fixed-effects, <code>iv</code>: the IV part of the formula.</p></dd>
<dt>fixef_vars</dt>
<dd><p>The names of each fixed-effect dimension.</p></dd>
<dt>fixef_id</dt>
<dd><p>The list (of length the number of fixed-effects) of the fixed-effects identifiers for each observation.</p></dd>
<dt>fixef_sizes</dt>
<dd><p>The size of each fixed-effect (i.e. the number of unique identifierfor each fixed-effect dimension).</p></dd>
<dt>coefficients</dt>
<dd><p>The named vector of estimated coefficients.</p></dd>
<dt>multicol</dt>
<dd><p>Logical, if multicollinearity was found.</p></dd>
<dt>coeftable</dt>
<dd><p>The table of the coefficients with their standard errors, z-values and p-values.</p></dd>
<dt>loglik</dt>
<dd><p>The loglikelihood.</p></dd>
<dt>ssr_null</dt>
<dd><p>Sum of the squared residuals of the null model (containing only with the intercept).</p></dd>
<dt>ssr_fe_only</dt>
<dd><p>Sum of the squared residuals of the model estimated with fixed-effects only.</p></dd>
<dt>ll_null</dt>
<dd><p>The log-likelihood of the null model (containing only with the intercept).</p></dd>
<dt>ll_fe_only</dt>
<dd><p>The log-likelihood of the model estimated with fixed-effects only.</p></dd>
<dt>fitted.values</dt>
<dd><p>The fitted values.</p></dd>
<dt>linear.predictors</dt>
<dd><p>The linear predictors.</p></dd>
<dt>residuals</dt>
<dd><p>The residuals (y minus the fitted values).</p></dd>
<dt>sq.cor</dt>
<dd><p>Squared correlation between the dependent variable and the expected predictor (i.e. fitted.values) obtained by the estimation.</p></dd>
<dt>hessian</dt>
<dd><p>The Hessian of the parameters.</p></dd>
<dt>cov.iid</dt>
<dd><p>The variance-covariance matrix of the parameters.</p></dd>
<dt>se</dt>
<dd><p>The standard-error of the parameters.</p></dd>
<dt>scores</dt>
<dd><p>The matrix of the scores (first derivative for each observation).</p></dd>
<dt>residuals</dt>
<dd><p>The difference between the dependent variable and the expected predictor.</p></dd>
<dt>sumFE</dt>
<dd><p>The sum of the fixed-effects coefficients for each observation.</p></dd>
<dt>offset</dt>
<dd><p>(When relevant.) The offset formula.</p></dd>
<dt>weights</dt>
<dd><p>(When relevant.) The weights formula.</p></dd>
<dt>obs_selection</dt>
<dd><p>(When relevant.) List containing vectors of integers. It represents the sequential selection of observation vis a vis the original data set.</p></dd>
<dt>collin.var</dt>
<dd><p>(When relevant.) Vector containing the variables removed because of collinearity.</p></dd>
<dt>collin.coef</dt>
<dd><p>(When relevant.) Vector of coefficients, where the values of the variables removed because of collinearity are NA.</p></dd>
<dt>collin.min_norm</dt>
<dd><p>The minimal diagonal value of the Cholesky decomposition. Small values indicate possible presence collinearity.</p></dd>
<dt>y_demeaned</dt>
<dd><p>Only when <code>demeaned = TRUE</code>: the centered dependent variable.</p></dd>
<dt>X_demeaned</dt>
<dd><p>Only when <code>demeaned = TRUE</code>: the centered explanatory variable.</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The method used to demean each variable along the fixed-effects is based on Berge (2018), since this is the same problem to solve as for the Gaussian case in a ML setup.</p>
    </div>
    <div id="combining-the-fixed-effects">
    <h2>Combining the fixed-effects</h2>
    

<p>You can combine two variables to make it a new fixed-effect using <code>^</code>. The syntax is as follows: <code>fe_1^fe_2</code>. Here you created a new variable which is the combination of the two variables fe_1 and fe_2. This is identical to doing <code>paste0(fe_1, "_", fe_2)</code> but more convenient.</p>
<p>Note that pasting is a costly operation, especially for large data sets. Thus, the internal algorithm uses a numerical trick which is fast, but the drawback is that the identity of each observation is lost (i.e. they are now equal to a meaningless number instead of being equal to <code>paste0(fe_1, "_", fe_2)</code>). These “identities” are useful only if you're interested in the value of the fixed-effects (that you can extract with <code><a href="fixef.fixest.html">fixef.fixest</a></code>). If you're only interested in coefficients of the variables, it doesn't matter. Anyway, you can use <code>combine.quick = FALSE</code> to tell the internal algorithm to use <code>paste</code> instead of the numerical trick. By default, the numerical trick is performed only for large data sets.</p>
    </div>
    <div id="varying-slopes">
    <h2>Varying slopes</h2>
    

<p>You can add variables with varying slopes in the fixed-effect part of the formula. The syntax is as follows: fixef_var[var1, var2]. Here the variables var1 and var2 will be with varying slopes (one slope per value in fixef_var) and the fixed-effect fixef_var will also be added.</p>
<p>To add only the variables with varying slopes and not the fixed-effect, use double square brackets: fixef_var[[var1, var2]].</p>
<p>In other words:</p><ul><li><p>fixef_var[var1, var2] is equivalent to fixef_var + fixef_var[[var1]] + fixef_var[[var2]]</p></li>
<li><p>fixef_var[[var1, var2]] is equivalent to fixef_var[[var1]] + fixef_var[[var2]]</p></li>
</ul><p>In general, for convergence reasons, it is recommended to always add the fixed-effect and avoid using only the variable with varying slope (i.e. use single square brackets).</p>
    </div>
    <div id="lagging-variables">
    <h2>Lagging variables</h2>
    


<p>To use leads/lags of variables in the estimation, you can: i) either provide the argument <code>panel.id</code>, ii) either set your data set as a panel with the function <code><a href="panel.html">panel</a></code>. Doing either of the two will give you acceess to the lagging functions <code><a href="l.html">l</a></code>,  <code><a href="l.html">f</a></code> and <code><a href="l.html">d</a></code>.</p>
<p>You can provide several leads/lags/differences at once: e.g. if your formula is equal to <code>f(y) ~ l(x, -1:1)</code>, it means that the dependent variable is equal to the lead of <code>y</code>, and you will have as explanatory variables the lead of <code>x1</code>, <code>x1</code> and the lag of <code>x1</code>. See the examples in function <code><a href="l.html">l</a></code> for more details.</p>
    </div>
    <div id="interactions">
    <h2>Interactions</h2>
    


<p>You can interact a numeric variable with a "factor-like" variable by using <code>i(factor_var, continuous_var, ref)</code>, where <code>continuous_var</code> will be interacted with each value of <code>factor_var</code> and the argument <code>ref</code> is a value of <code>factor_var</code> taken as a reference (optional).</p>
<p>Using this specific way to create interactions leads to a different display of the interacted values in <code><a href="etable.html">etable</a></code> and offers a special representation of the interacted coefficients in the function <code><a href="coefplot.html">coefplot</a></code>. See examples.</p>
<p>It is important to note that *if you do not care about the standard-errors of the interactions*, then you can add interactions in the fixed-effects part of the formula, it will be incomparably faster (using the syntax <code>factor_var[continuous_var]</code>, as explained in the section “Varying slopes”).</p>
<p>The function <code><a href="i.html">i</a></code> has in fact more arguments, please see details in its associated help page.</p>
    </div>
    <div id="on-standard-errors">
    <h2>On standard-errors</h2>
    


<p>Standard-errors can be computed in different ways, you can use the arguments <code>se</code> and <code>ssc</code> in <code><a href="summary.fixest.html">summary.fixest</a></code> to define how to compute them. By default, in the presence of fixed-effects, standard-errors are automatically clustered.</p>
<p>The following vignette: <a href="https://lrberge.github.io/fixest/articles/standard_errors.html" class="external-link">On standard-errors</a> describes in details how the standard-errors are computed in <code>fixest</code> and how you can replicate standard-errors from other software.</p>
<p>You can use the functions <code><a href="setFixest_vcov.html">setFixest_vcov</a></code> and <code><a href="ssc.html">setFixest_ssc</a></code> to permanently set the way the standard-errors are computed.</p>
    </div>
    <div id="instrumental-variables">
    <h2>Instrumental variables</h2>
    


<p>To estimate two stage least square regressions, insert the relationship between the endogenous regressor(s) and the instruments in a formula, after a pipe.</p>
<p>For example, <code>fml = y ~ x1 | x_endo ~ x_inst</code> will use the variables <code>x1</code> and <code>x_inst</code> in the first stage to explain <code>x_endo</code>. Then will use the fitted value of <code>x_endo</code> (which will be named <code>fit_x_endo</code>) and <code>x1</code> to explain <code>y</code>.
To include several endogenous regressors, just use "+", like in: <code>fml = y ~ x1 | x_endo1 + x_end2 ~ x_inst1 + x_inst2</code>.</p>
<p>Of course you can still add the fixed-effects, but the IV formula must always come last, like in <code>fml = y ~ x1 | fe1 + fe2 | x_endo ~ x_inst</code>.</p>
<p>If you want to estimate a model without exogenous variables, use <code>"1"</code> as a placeholder: e.g. <code>fml = y ~ 1 | x_endo + x_inst</code>.</p>
<p>By default, the second stage regression is returned. You can access the first stage(s) regressions either directly in the slot <code>iv_first_stage</code> (not recommended), or using the argument <code>stage = 1</code> from the function <code><a href="summary.fixest.html">summary.fixest</a></code>. For example <code>summary(iv_est, stage = 1)</code> will give the first stage(s). Note that using summary you can display both the second and first stages at the same time using, e.g., <code>stage = 1:2</code> (using <code>2:1</code> would reverse the order).</p>
    </div>
    <div id="multiple-estimations">
    <h2>Multiple estimations</h2>
    


<p>Multiple estimations can be performed at once, they just have to be specified in the formula. Multiple estimations yield a <code>fixest_multi</code> object which is ‘kind of’ a list of all the results but includes specific methods to access the results in a handy way. Please have a look at the dedicated vignette: <a href="https://lrberge.github.io/fixest/articles/multiple_estimations.html" class="external-link">Multiple estimations</a>.</p>
<p>To include multiple dependent variables, wrap them in <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> (<code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code> also works). For instance <code>fml = c(y1, y2) ~ x1</code> would estimate the model <code>fml = y1 ~ x1</code> and then the model <code>fml = y2 ~ x1</code>.</p>
<p>To include multiple independent variables, you need to use the stepwise functions. There are 4 stepwise functions: <code>sw</code>, <code>sw0</code>, <code>csw</code>, <code>csw0</code>, and <code>mvsw</code>. Of course <code>sw</code> stands for stepwise, and <code>csw</code> for cumulative stepwise. Finally <code>mvsw</code> is a bit special, it stands for multiverse stepwise. Let's explain that.
Assume you have the following formula: <code>fml = y ~ x1 + sw(x2, x3)</code>. The stepwise function <code>sw</code> will estimate the following two models: <code>y ~ x1 + x2</code> and <code>y ~ x1 + x3</code>. That is, each element in <code><a href="stepwise.html">sw()</a></code> is sequentially, and separately, added to the formula. Would have you used <code>sw0</code> in lieu of <code>sw</code>, then the model <code>y ~ x1</code> would also have been estimated. The <code>0</code> in the name means that the model without any stepwise element also needs to be estimated.
The prefix <code>c</code> means cumulative: each stepwise element is added to the next. That is, <code>fml = y ~ x1 + csw(x2, x3)</code> would lead to the following models <code>y ~ x1 + x2</code> and <code>y ~ x1 + x2 + x3</code>. The <code>0</code> has the same meaning and would also lead to the model without the stepwise elements to be estimated: in other words, <code>fml = y ~ x1 + csw0(x2, x3)</code> leads to the following three models: <code>y ~ x1</code>, <code>y ~ x1 + x2</code> and <code>y ~ x1 + x2 + x3</code>.
Finally <code>mvsw</code> will add, in a stepwise fashion all possible combinations of the variables in its arguments. For example <code>mvsw(x1, x2, x3)</code> is equivalent to <code>sw0(x1, x2, x3, x1 + x2, x1 + x3, x2 + x3, x1 + x2 + x3)</code>. The number of models to estimate grows at a factorial rate: so be cautious!</p>
<p>Multiple independent variables can be combined with multiple dependent variables, as in <code>fml = c(y1, y2) ~ cw(x1, x2, x3)</code> which would lead to 6 estimations. Multiple estimations can also be combined to split samples (with the arguments <code>split</code>, <code>fsplit</code>).</p>
<p>You can also add fixed-effects in a stepwise fashion. Note that you cannot perform stepwise estimations on the IV part of the formula (<code>feols</code> only).</p>
<p>If NAs are present in the sample, to avoid too many messages, only NA removal concerning the variables common to all estimations is reported.</p>
<p>A note on performance. The feature of multiple estimations has been highly optimized for <code>feols</code>, in particular in the presence of fixed-effects. It is faster to estimate multiple models using the formula rather than with a loop. For non-<code>feols</code> models using the formula is roughly similar to using a loop performance-wise.</p>
    </div>
    <div id="tricks-to-estimate-multiple-lhs">
    <h2>Tricks to estimate multiple LHS</h2>
    


<p>To use multiple dependent variables in <code>fixest</code> estimations, you need to include them in a vector: like in <code>c(y1, y2, y3)</code>.</p>
<p>First, if names are stored in a vector, they can readily be inserted in a formula to perform multiple estimations using the dot square bracket operator. For instance if <code>my_lhs = c("y1", "y2")</code>, calling <code>fixest</code> with, say <code>feols(.[my_lhs] ~ x1, etc)</code> is equivalent to using <code>feols(c(y1, y2) ~ x1, etc)</code>. Beware that this is a special feature unique to the <em>left-hand-side</em> of <code>fixest</code> estimations (the default behavior of the DSB operator is to aggregate with sums, see <code><a href="xpd.html">xpd</a></code>).</p>
<p>Second, you can use a regular expression to grep the left-hand-sides on the fly. When the <code>..("regex")</code> feature is used naked on the LHS, the variables grepped are inserted into <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code>. For example <code>..("Pe") ~ Sepal.Length, iris</code> is equivalent to <code>c(Petal.Length, Petal.Width) ~ Sepal.Length, iris</code>. Beware that this is a special feature unique to the <em>left-hand-side</em> of <code>fixest</code> estimations (the default behavior of <code>..("regex")</code> is to aggregate with sums, see <code><a href="xpd.html">xpd</a></code>).</p>
    </div>
    <div id="argument-sliding">
    <h2>Argument sliding</h2>
    


<p>When the data set has been set up globally using <code><a href="setFixest_estimation.html">setFixest_estimation</a></code><code>(data = data_set)</code>, the argument <code>vcov</code> can be used implicitly. This means that calls such as <code>feols(y ~ x, "HC1")</code>, or <code>feols(y ~ x, ~id)</code>, are valid: i) the data is automatically deduced from the global settings, and ii) the <code>vcov</code> is deduced to be the second argument.</p>
    </div>
    <div id="piping">
    <h2>Piping</h2>
    


<p>Although the argument 'data' is placed in second position, the data can be piped to the estimation functions. For example, with R &gt;= 4.1, <code>mtcars |&gt; feols(mpg ~ cyl)</code> works as <code>feols(mpg ~ cyl, mtcars)</code>.</p>
    </div>
    <div id="dot-square-bracket-operator-in-formulas">
    <h2>Dot square bracket operator in formulas</h2>
    


<p>In a formula, the dot square bracket (DSB) operator can: i) create manifold variables at once, or ii) capture values from the current environment and put them verbatim in the formula.</p>
<p>Say you want to include the variables <code>x1</code> to <code>x3</code> in your formula. You can use <code>xpd(y ~ x.[1:3])</code> and you'll get <code>y ~ x1 + x2 + x3</code>.</p>
<p>To summon values from the environment, simply put the variable in square brackets. For example: <code>for(i in 1:3) xpd(y.[i] ~ x)</code> will create the formulas <code>y1 ~ x</code> to <code>y3 ~ x</code> depending on the value of <code>i</code>.</p>
<p>You can include a full variable from the environment in the same way: <code>for(y in c("a", "b")) xpd(.[y] ~ x)</code> will create the two formulas <code>a ~ x</code> and <code>b ~ x</code>.</p>
<p>The DSB can even be used within variable names, but then the variable must be nested in character form. For example <code>y ~ .["x.[1:2]_sq"]</code> will create <code>y ~ x1_sq + x2_sq</code>. Using the character form is important to avoid a formula parsing error. Double quotes must be used. Note that the character string that is nested will be parsed with the function <code><a href="dsb.html">dsb</a></code>, and thus it will return a vector.</p>
<p>By default, the DSB operator expands vectors into sums. You can add a comma, like in <code>.[, x]</code>, to expand with commas--the content can then be used within functions. For instance: <code>c(x.[, 1:2])</code> will create <code>c(x1, x2)</code> (and <em>not</em> <code>c(x1 + x2)</code>).</p>
<p>In all <code>fixest</code> estimations, this special parsing is enabled, so you don't need to use <code>xpd</code>.</p>
<p>You can even use multiple square brackets within a single variable, but then the use of nesting is required. For example, the following <code>xpd(y ~ .[".[letters[1:2]]_.[1:2]"])</code> will create <code>y ~ a_1 + b_2</code>. Remember that the nested character string is parsed with <code><a href="dsb.html">dsb</a></code>, which explains this behavior.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Berge, Laurent, 2018, "Efficient estimation of maximum likelihood models with multiple fixed-effects: the R package FENmlm." CREA Discussion Papers, 13 (<a href="https://wwwen.uni.lu/content/download/110162/1299525/file/2018_13" class="external-link">https://wwwen.uni.lu/content/download/110162/1299525/file/2018_13</a>).</p>
<p>For models with multiple fixed-effects:</p>
<p>Gaure, Simen, 2013, "OLS with multiple high dimensional category variables", Computational Statistics &amp; Data Analysis 66 pp. 8--18</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>See also <code><a href="summary.fixest.html">summary.fixest</a></code> to see the results with the appropriate standard-errors, <code><a href="fixef.fixest.html">fixef.fixest</a></code> to extract the fixed-effects coefficients, and the function <code><a href="etable.html">etable</a></code> to visualize the results of multiple estimations. For plotting coefficients: see <code><a href="coefplot.html">coefplot</a></code>.</p>
<p>And other estimation methods: <code><a href="femlm.html">femlm</a></code>, <code><a href="feglm.html">feglm</a></code>, <code><a href="feglm.html">fepois</a></code>, <code><a href="femlm.html">fenegbin</a></code>, <code><a href="feNmlm.html">feNmlm</a></code>.</p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Laurent Berge</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># Basic estimation</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">res</span> <span class="op">=</span> <span class="fu">feols</span><span class="op">(</span><span class="va">Sepal.Length</span> <span class="op">~</span> <span class="va">Sepal.Width</span> <span class="op">+</span> <span class="va">Petal.Length</span>, <span class="va">iris</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># You can specify clustered standard-errors in summary:</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res</span>, cluster <span class="op">=</span> <span class="op">~</span><span class="va">Species</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> OLS estimation, Dep. Var.: Sepal.Length</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations: 150 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Standard-errors: Clustered (Species) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate Std. Error t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)  2.249140   0.162626 13.8302 0.00518747 ** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sepal.Width  0.595525   0.051733 11.5115 0.00746202 ** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Petal.Length 0.471920   0.006873 68.6673 0.00021201 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RMSE: 0.329937   Adj. R2: 0.838003</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># Just one set of fixed-effects:</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">res</span> <span class="op">=</span> <span class="fu">feols</span><span class="op">(</span><span class="va">Sepal.Length</span> <span class="op">~</span> <span class="va">Sepal.Width</span> <span class="op">+</span> <span class="va">Petal.Length</span> <span class="op">|</span> <span class="va">Species</span>, <span class="va">iris</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># By default, the SEs are clustered according to the first fixed-effect</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> OLS estimation, Dep. Var.: Sepal.Length</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations: 150 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fixed-effects: Species: 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Standard-errors: Clustered (Species) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sepal.Width  0.432217   0.161308 2.67945 0.115623    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Petal.Length 0.775629   0.126546 6.12925 0.025601 *  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RMSE: 0.305129     Adj. R2: 0.859538</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  Within R2: 0.641507</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># Varying slopes:</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">res</span> <span class="op">=</span> <span class="fu">feols</span><span class="op">(</span><span class="va">Sepal.Length</span> <span class="op">~</span> <span class="va">Petal.Length</span> <span class="op">|</span> <span class="va">Species</span><span class="op">[</span><span class="va">Sepal.Width</span><span class="op">]</span>, <span class="va">iris</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> OLS estimation, Dep. Var.: Sepal.Length</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations: 150 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fixed-effects: Species: 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Varying slopes: Sepal.Width (Species: 3)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Standard-errors: Clustered (Species) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Petal.Length 0.822045    0.10061  8.1706 0.014651 *  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RMSE: 0.298903     Adj. R2: 0.863326</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  Within R2: 0.518738</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># Combining the FEs:</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">base</span> <span class="op">=</span> <span class="va">iris</span></span>
<span class="r-in"><span class="va">base</span><span class="op">$</span><span class="va">fe_2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="fl">15</span><span class="op">)</span></span>
<span class="r-in"><span class="va">res_comb</span> <span class="op">=</span> <span class="fu">feols</span><span class="op">(</span><span class="va">Sepal.Length</span> <span class="op">~</span> <span class="va">Petal.Length</span> <span class="op">|</span> <span class="va">Species</span><span class="op">^</span><span class="va">fe_2</span>, <span class="va">base</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res_comb</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> OLS estimation, Dep. Var.: Sepal.Length</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations: 150 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fixed-effects: Species^fe_2: 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Standard-errors: Clustered (Species^fe_2) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate Std. Error t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Petal.Length 0.875613   0.062395 14.0334 1.8483e-14 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RMSE: 0.309865     Adj. R2: 0.823494</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  Within R2: 0.548794</span>
<span class="r-in"><span class="fu"><a href="fixef_reexported.html">fixef</a></span><span class="op">(</span><span class="va">res_comb</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      setosa_1     setosa_10      setosa_2      setosa_3      setosa_4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      3.826581      3.646581      3.661605      3.601703      3.621605 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      setosa_5      setosa_6      setosa_7      setosa_8      setosa_9 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      3.736532      3.884093      3.859118      3.699118      3.721605 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  versicolor_1 versicolor_10  versicolor_2  versicolor_3  versicolor_4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      2.067402      2.142623      2.322426      2.359841      1.922328 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  versicolor_5  versicolor_6  versicolor_7  versicolor_8  versicolor_9 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      2.187402      2.287304      2.209694      2.284914      2.274963 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   virginica_1  virginica_10   virginica_2   virginica_3   virginica_4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      1.769007      1.841642      1.826716      1.716471      1.639252 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   virginica_5   virginica_6   virginica_7   virginica_8   virginica_9 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      1.474081      2.006422      1.591887      1.791495      1.609007 </span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># Using leads/lags:</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">base_did</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># We need to set up the panel with the arg. panel.id</span></span>
<span class="r-in"><span class="va">est1</span> <span class="op">=</span> <span class="fu">feols</span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="fu"><a href="l.html">l</a></span><span class="op">(</span><span class="va">x1</span>, <span class="fl">0</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span>, <span class="va">base_did</span>, panel.id <span class="op">=</span> <span class="op">~</span><span class="va">id</span><span class="op">+</span><span class="va">period</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> NOTE: 108 observations removed because of NA values (RHS: 108).</span>
<span class="r-in"><span class="va">est2</span> <span class="op">=</span> <span class="fu">feols</span><span class="op">(</span><span class="fu"><a href="l.html">f</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span> <span class="op">~</span> <span class="fu"><a href="l.html">l</a></span><span class="op">(</span><span class="va">x1</span>, <span class="op">-</span><span class="fl">1</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span>, <span class="va">base_did</span>, panel.id <span class="op">=</span> <span class="op">~</span><span class="va">id</span><span class="op">+</span><span class="va">period</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> NOTE: 216 observations removed because of NA values (LHS: 108, RHS: 216).</span>
<span class="r-in"><span class="fu"><a href="etable.html">etable</a></span><span class="op">(</span><span class="va">est1</span>, <span class="va">est2</span>, order <span class="op">=</span> <span class="st">"f"</span>, drop<span class="op">=</span><span class="st">"Int"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                               est1               est2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dependent Var.:                  y             f(y,1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> f(x1,1)                            0.9940*** (0.0542)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1              0.9948*** (0.0487)    0.0081 (0.0592)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> l(x1,1)            0.0410 (0.0558)    0.0157 (0.0640)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _______________ __________________ __________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S.E.: Clustered             by: id             by: id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations                   972                864</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R2                         0.26558            0.25697</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Adj. R2                    0.26406            0.25438</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># Using interactions:</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">base_did</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># We interact the variable 'period' with the variable 'treat'</span></span>
<span class="r-in"><span class="va">est_did</span> <span class="op">=</span> <span class="fu">feols</span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">+</span> <span class="fu"><a href="i.html">i</a></span><span class="op">(</span><span class="va">period</span>, <span class="va">treat</span>, <span class="fl">5</span><span class="op">)</span> <span class="op">|</span> <span class="va">id</span><span class="op">+</span><span class="va">period</span>, <span class="va">base_did</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Now we can plot the result of the interaction with coefplot</span></span>
<span class="r-in"><span class="fu"><a href="coefplot.html">coefplot</a></span><span class="op">(</span><span class="va">est_did</span><span class="op">)</span></span>
<span class="r-plt img"><img src="feols-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span class="co"># You have many more example in coefplot help</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># Instrumental variables</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># To estimate Two stage least squares,</span></span>
<span class="r-in"><span class="co"># insert a formula describing the endo. vars./instr. relation after a pipe:</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">base</span> <span class="op">=</span> <span class="va">iris</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">base</span><span class="op">)</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"y"</span>, <span class="st">"x1"</span>, <span class="st">"x2"</span>, <span class="st">"x3"</span>, <span class="st">"fe1"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">base</span><span class="op">$</span><span class="va">x_inst1</span> <span class="op">=</span> <span class="fl">0.2</span> <span class="op">*</span> <span class="va">base</span><span class="op">$</span><span class="va">x1</span> <span class="op">+</span> <span class="fl">0.7</span> <span class="op">*</span> <span class="va">base</span><span class="op">$</span><span class="va">x2</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span><span class="fl">150</span>, <span class="fl">2</span><span class="op">)</span></span>
<span class="r-in"><span class="va">base</span><span class="op">$</span><span class="va">x_inst2</span> <span class="op">=</span> <span class="fl">0.2</span> <span class="op">*</span> <span class="va">base</span><span class="op">$</span><span class="va">x2</span> <span class="op">+</span> <span class="fl">0.7</span> <span class="op">*</span> <span class="va">base</span><span class="op">$</span><span class="va">x3</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span><span class="fl">150</span>, <span class="fl">3</span><span class="op">)</span></span>
<span class="r-in"><span class="va">base</span><span class="op">$</span><span class="va">x_endo1</span> <span class="op">=</span> <span class="fl">0.5</span> <span class="op">*</span> <span class="va">base</span><span class="op">$</span><span class="va">y</span> <span class="op">+</span> <span class="fl">0.5</span> <span class="op">*</span> <span class="va">base</span><span class="op">$</span><span class="va">x3</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">150</span>, sd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span class="r-in"><span class="va">base</span><span class="op">$</span><span class="va">x_endo2</span> <span class="op">=</span> <span class="fl">1.5</span> <span class="op">*</span> <span class="va">base</span><span class="op">$</span><span class="va">y</span> <span class="op">+</span> <span class="fl">0.5</span> <span class="op">*</span> <span class="va">base</span><span class="op">$</span><span class="va">x3</span> <span class="op">+</span> <span class="fl">3</span> <span class="op">*</span> <span class="va">base</span><span class="op">$</span><span class="va">x_inst1</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">150</span>, sd <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Using 2 controls, 1 endogenous var. and 1 instrument</span></span>
<span class="r-in"><span class="va">res_iv</span> <span class="op">=</span> <span class="fu">feols</span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">+</span> <span class="va">x2</span> <span class="op">|</span> <span class="va">x_endo1</span> <span class="op">~</span> <span class="va">x_inst1</span>, <span class="va">base</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># The second stage is the default</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res_iv</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TSLS estimation, Dep. Var.: y, Endo.: x_endo1, Instr.: x_inst1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Second stage: Dep. Var.: y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations: 150 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Standard-errors: IID </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate Std. Error   t value Pr(&gt;|t|) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept) -5.444083   82.90731 -0.065665  0.94773 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> fit_x_endo1  4.156853   44.67892  0.093038  0.92600 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1           0.533483    1.80938  0.294843  0.76853 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x2          -1.358091   19.67381 -0.069030  0.94506 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RMSE: 7.97755   Adj. R2: -94.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> F-test (1st stage), x_endo1: stat = 0.008704, p = 0.925795, on 1 and 146 DoF.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  Wu-Hausman: stat = 5.23866 , p = 0.023535, on 1 and 145 DoF.</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># To show the first stage:</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res_iv</span>, stage <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TSLS estimation, Dep. Var.: x_endo1, Endo.: x_endo1, Instr.: x_inst1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> First stage: Dep. Var.: x_endo1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations: 150 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Standard-errors: IID </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate Std. Error   t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)  1.867844   1.454871  1.283856 0.20122622    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x_inst1     -0.011136   0.119357 -0.093298 0.92579498    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1           0.018677   0.405512  0.046059 0.96332636    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x2           0.447831   0.128635  3.481404 0.00065818 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RMSE: 1.9138   Adj. R2: 0.122258</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> F-test (1st stage): stat = 0.008704, p = 0.925795, on 1 and 146 DoF.</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># To show both the first and second stages:</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res_iv</span>, stage <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> IV: First stage: x_endo1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TSLS estimation, Dep. Var.: x_endo1, Endo.: x_endo1, Instr.: x_inst1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> First stage: Dep. Var.: x_endo1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations: 150 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Standard-errors: IID </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate Std. Error   t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)  1.867844   1.454871  1.283856 0.20122622    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x_inst1     -0.011136   0.119357 -0.093298 0.92579498    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1           0.018677   0.405512  0.046059 0.96332636    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x2           0.447831   0.128635  3.481404 0.00065818 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RMSE: 1.9138   Adj. R2: 0.122258</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> F-test (1st stage): stat = 0.008704, p = 0.925795, on 1 and 146 DoF.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> IV: Second stage</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TSLS estimation, Dep. Var.: y, Endo.: x_endo1, Instr.: x_inst1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Second stage: Dep. Var.: y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations: 150 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Standard-errors: IID </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate Std. Error   t value Pr(&gt;|t|) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept) -5.444083   82.90731 -0.065665  0.94773 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> fit_x_endo1  4.156853   44.67892  0.093038  0.92600 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1           0.533483    1.80938  0.294843  0.76853 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x2          -1.358091   19.67381 -0.069030  0.94506 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RMSE: 7.97755   Adj. R2: -94.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> F-test (1st stage), x_endo1: stat = 0.008704, p = 0.925795, on 1 and 146 DoF.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  Wu-Hausman: stat = 5.23866 , p = 0.023535, on 1 and 145 DoF.</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Adding a fixed-effect =&gt; IV formula always last!</span></span>
<span class="r-in"><span class="va">res_iv_fe</span> <span class="op">=</span> <span class="fu">feols</span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">+</span> <span class="va">x2</span> <span class="op">|</span> <span class="va">fe1</span> <span class="op">|</span> <span class="va">x_endo1</span> <span class="op">~</span> <span class="va">x_inst1</span>, <span class="va">base</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># With two endogenous regressors</span></span>
<span class="r-in"><span class="va">res_iv2</span> <span class="op">=</span> <span class="fu">feols</span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">+</span> <span class="va">x2</span> <span class="op">|</span> <span class="va">x_endo1</span> <span class="op">+</span> <span class="va">x_endo2</span> <span class="op">~</span> <span class="va">x_inst1</span> <span class="op">+</span> <span class="va">x_inst2</span>, <span class="va">base</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Now there's two first stages =&gt; a fixest_multi object is returned</span></span>
<span class="r-in"><span class="va">sum_res_iv2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res_iv2</span>, stage <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># You can navigate through it by subsetting:</span></span>
<span class="r-in"><span class="va">sum_res_iv2</span><span class="op">[</span>iv <span class="op">=</span> <span class="fl">1</span><span class="op">]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TSLS estimation, Dep. Var.: x_endo1, Endo.: x_endo1, x_endo2, Instr.: x_inst1, x_inst2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> First stage: Dep. Var.: x_endo1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations: 150 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Standard-errors: IID </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate Std. Error   t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)  1.850720   1.516307  1.220544 0.22423981    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x_inst1     -0.011391   0.119922 -0.094984 0.92445853    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x_inst2      0.003804   0.091032  0.041784 0.96672840    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1           0.020822   0.410131  0.050770 0.95957842    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x2           0.446540   0.132727  3.364349 0.00098184 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RMSE: 1.91379   Adj. R2: 0.116216</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> F-test (1st stage): stat = 0.005195, p = 0.994818, on 2 and 145 DoF.</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># The stage argument also works in etable:</span></span>
<span class="r-in"><span class="fu"><a href="etable.html">etable</a></span><span class="op">(</span><span class="va">res_iv</span>, <span class="va">res_iv_fe</span>, <span class="va">res_iv2</span>, order <span class="op">=</span> <span class="st">"endo"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                         res_iv       res_iv_fe          res_iv2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dependent Var.:              y               y                y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x_endo1          4.157 (44.68)   3.414 (15.83)   -1.912 (56.41)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x_endo2                                        -0.0206 (0.2092)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)     -5.444 (82.91)                    5.959 (106.1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1              0.5335 (1.809) 0.6988 (0.9094)   0.6664 (1.476)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x2              -1.358 (19.67) -0.6848 (6.072)    1.368 (25.36)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fixed-Effects:  -------------- --------------- ----------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> fe1                         No             Yes               No</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _______________ ______________ _______________ ________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S.E. type                  IID         by: fe1              IID</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations               150             150              150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R2                     -92.436         -61.946          -18.724</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Within R2                   --         -164.08               --</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="etable.html">etable</a></span><span class="op">(</span><span class="va">res_iv</span>, <span class="va">res_iv_fe</span>, <span class="va">res_iv2</span>, stage <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"endo"</span>, <span class="st">"inst"</span><span class="op">)</span>,</span>
<span class="r-in">       group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>control <span class="op">=</span> <span class="st">"!endo|inst"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                         res_iv.1      res_iv.2      res_iv_fe.1   res_iv_fe.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> IV stages                  First        Second            First        Second</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dependent Var.:          x_endo1             y          x_endo1             y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x_endo1                          4.157 (44.68)                  3.414 (15.83)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x_endo2                                                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x_inst1         -0.0111 (0.1194)               -0.0127 (0.0508)              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x_inst2                                                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> control                      Yes           Yes              Yes           Yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fixed-Effects:  ---------------- ------------- ---------------- -------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> fe1                           No            No              Yes           Yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _______________ ________________ _____________ ________________ _____________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S.E. type                    IID           IID          by: fe1       by: fe1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations                 150           150              150           150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R2                       0.13993       -92.436          0.14157       -61.946</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Within R2                     --            --          0.00829       -164.08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                        res_iv2.1         res_iv2.2        res_iv2.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> IV stages                  First             First           Second</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dependent Var.:          x_endo1           x_endo2                y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x_endo1                                              -1.912 (56.41)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x_endo2                                            -0.0206 (0.2092)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x_inst1         -0.0114 (0.1199) 3.295*** (0.3310)                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x_inst2          0.0038 (0.0910)  -0.2070 (0.2513)                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> control                      Yes               Yes              Yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fixed-Effects:  ---------------- ----------------- ----------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> fe1                           No                No               No</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _______________ ________________ _________________ ________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S.E. type                    IID               IID              IID</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations                 150               150              150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R2                       0.13994           0.57761          -18.724</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Within R2                     --                --               --</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># Multiple estimations:</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># 6 estimations</span></span>
<span class="r-in"><span class="va">est_mult</span> <span class="op">=</span> <span class="fu">feols</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">Ozone</span>, <span class="va">Solar.R</span><span class="op">)</span> <span class="op">~</span> <span class="va">Wind</span> <span class="op">+</span> <span class="va">Temp</span> <span class="op">+</span> <span class="fu"><a href="stepwise.html">csw0</a></span><span class="op">(</span><span class="va">Wind</span><span class="op">:</span><span class="va">Temp</span>, <span class="va">Day</span><span class="op">)</span>, <span class="va">airquality</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># We can display the results for the first lhs:</span></span>
<span class="r-in"><span class="fu"><a href="etable.html">etable</a></span><span class="op">(</span><span class="va">est_mult</span><span class="op">[</span>lhs <span class="op">=</span> <span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                            model 1             model 2             model 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dependent Var.:              Ozone               Ozone               Ozone</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)       -71.03** (23.58)   -248.5*** (48.14)   -257.7*** (48.45)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Wind            -3.055*** (0.6633)    14.34*** (4.239)    14.58*** (4.228)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Temp             1.840*** (0.2500)   4.076*** (0.5875)   4.136*** (0.5871)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Wind x Temp                        -0.2239*** (0.0540) -0.2273*** (0.0539)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Day                                                        0.2940 (0.2185)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _______________ __________________ ___________________ ___________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S.E. type                      IID                 IID                 IID</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations                   116                 116                 116</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R2                         0.56871             0.62613             0.63213</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Adj. R2                    0.56108             0.61611             0.61887</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># And now the second (access can be made by name)</span></span>
<span class="r-in"><span class="fu"><a href="etable.html">etable</a></span><span class="op">(</span><span class="va">est_mult</span><span class="op">[</span>lhs <span class="op">=</span> <span class="st">"Solar.R"</span><span class="op">]</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                           model 1         model 2         model 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dependent Var.:           Solar.R         Solar.R         Solar.R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)        -76.36 (82.00)   10.01 (189.6)   45.19 (190.6)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Wind                2.211 (2.308)  -5.893 (16.20)  -6.214 (16.15)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Temp            3.075*** (0.8778)   1.982 (2.333)   1.788 (2.329)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Wind x Temp                       0.1044 (0.2064) 0.1069 (0.2057)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Day                                               -1.161 (0.8277)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _______________ _________________ _______________ _______________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S.E. type                     IID             IID             IID</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations                  146             146             146</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R2                        0.08198         0.08363         0.09624</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Adj. R2                   0.06914         0.06427         0.07061</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Now we focus on the two last right hand sides</span></span>
<span class="r-in"><span class="co"># (note that .N can be used to specify the last item)</span></span>
<span class="r-in"><span class="fu"><a href="etable.html">etable</a></span><span class="op">(</span><span class="va">est_mult</span><span class="op">[</span>rhs <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="va">.N</span><span class="op">]</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                             model 1         model 2             model 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dependent Var.:               Ozone         Solar.R               Ozone</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)       -248.5*** (48.14)   10.01 (189.6)   -257.7*** (48.45)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Wind               14.34*** (4.239)  -5.893 (16.20)    14.58*** (4.228)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Temp              4.076*** (0.5875)   1.982 (2.333)   4.136*** (0.5871)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Wind x Temp     -0.2239*** (0.0540) 0.1044 (0.2064) -0.2273*** (0.0539)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Day                                                     0.2940 (0.2185)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _______________ ___________________ _______________ ___________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S.E. type                       IID             IID                 IID</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations                    116             146                 116</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R2                          0.62613         0.08363             0.63213</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Adj. R2                     0.61611         0.06427             0.61887</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                         model 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dependent Var.:         Solar.R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)       45.19 (190.6)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Wind             -6.214 (16.15)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Temp              1.788 (2.329)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Wind x Temp     0.1069 (0.2057)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Day             -1.161 (0.8277)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _______________ _______________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S.E. type                   IID</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations                146</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R2                      0.09624</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Adj. R2                 0.07061</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Combining with split</span></span>
<span class="r-in"><span class="va">est_split</span> <span class="op">=</span> <span class="fu">feols</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">Ozone</span>, <span class="va">Solar.R</span><span class="op">)</span> <span class="op">~</span> <span class="fu"><a href="stepwise.html">sw</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/poly.html" class="external-link">poly</a></span><span class="op">(</span><span class="va">Wind</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/poly.html" class="external-link">poly</a></span><span class="op">(</span><span class="va">Temp</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span class="r-in">                  <span class="va">airquality</span>, split <span class="op">=</span> <span class="op">~</span> <span class="va">Month</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># You can display everything at once with the print method</span></span>
<span class="r-in"><span class="va">est_split</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Standard-errors: IID </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # SAMPLE: 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Dep. var.: Ozone</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: poly(Wind, 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 Estimate Std. Error  t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)      29.8505    4.62478  6.45448 1.3810e-06 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)1 -180.1531   68.14588 -2.64364 1.4516e-02 *  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)2   93.3187   55.68940  1.67570 1.0734e-01    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: poly(Temp, 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Estimate Std. Error t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)     60.8847    13.3314 4.56701 0.00013696 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Temp, 2)1 436.0792   162.6142 2.68168 0.01332077 *  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Temp, 2)2 156.5738   107.6842 1.45401 0.15945485    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Dep. var.: Solar.R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: poly(Wind, 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Estimate Std. Error   t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)     185.975    27.2165  6.833171 4.5627e-07 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)1 -101.509   403.9730 -0.251277 8.0374e-01    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)2 -248.609   327.3103 -0.759552 4.5492e-01    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: poly(Temp, 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Estimate Std. Error   t value Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)     184.737    72.5274  2.547133  0.01769 *  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Temp, 2)1 -306.202   881.2266 -0.347473  0.73126    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Temp, 2)2 -822.991   547.8534 -1.502211  0.14609    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # SAMPLE: 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Dep. var.: Ozone</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: poly(Wind, 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Estimate Std. Error   t value Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)     21.8206    9.48902  2.299565 0.061137 .  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)1 166.9646  161.90174  1.031271 0.342179    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)2 -60.6305   92.54148 -0.655171 0.536652    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: poly(Temp, 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Estimate Std. Error t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)     34.2959    4.15309 8.25794 0.00017054 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Temp, 2)1 114.9172   62.20576 1.84737 0.11420526    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Temp, 2)2 206.4879   79.99940 2.58112 0.04170670 *  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Dep. var.: Solar.R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: poly(Wind, 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Estimate Std. Error   t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)    187.7785    16.4660 11.404021 7.8882e-12 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)1 389.5634   194.8959  1.998828 5.5787e-02 .  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)2 -72.8180   156.4046 -0.465574 6.4525e-01    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: poly(Temp, 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Estimate Std. Error  t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)     188.337    21.4096 8.796855 2.0604e-09 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Temp, 2)1  575.587   374.3715 1.537475 1.3581e-01    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Temp, 2)2  133.702   363.9611 0.367352 7.1622e-01    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # SAMPLE: 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Dep. var.: Ozone</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: poly(Wind, 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 Estimate Std. Error   t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)      49.8115    5.51938  9.024837 5.1064e-09 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)1 -280.6407   84.25343 -3.330912 2.9055e-03 ** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)2   58.0027  107.62694  0.538924 5.9512e-01    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: poly(Temp, 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Estimate Std. Error  t value Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)     29.2107    16.0689 1.817844 0.082138 .  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Temp, 2)1 584.0963   265.9188 2.196521 0.038399 *  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Temp, 2)2  14.1887   198.9617 0.071314 0.943764    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Dep. var.: Solar.R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: poly(Wind, 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  Estimate Std. Error   t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)     213.16197    16.3352 13.049206 2.0111e-13 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)1 -144.08420   246.7578 -0.583909 5.6396e-01    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)2    8.70905   324.8247  0.026812 9.7880e-01    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: poly(Temp, 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Estimate Std. Error   t value  Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)     172.303    54.6087  3.155239 0.0038125 ** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Temp, 2)1  835.016   904.9731  0.922697 0.3640481    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Temp, 2)2 -107.276   645.9680 -0.166070 0.8692954    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # SAMPLE: 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Dep. var.: Ozone</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: poly(Wind, 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 Estimate Std. Error  t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)      49.7316    6.14979  8.08670 3.5632e-08 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)1 -289.2515   97.10974 -2.97860 6.7192e-03 ** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)2  116.2989   90.00343  1.29216 2.0913e-01    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: poly(Temp, 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 Estimate Std. Error   t value Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)      26.1289    16.6482  1.569471 0.130195    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Temp, 2)1  678.1406   325.9933  2.080228 0.048834 *  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Temp, 2)2 -162.1223   188.3344 -0.860822 0.398222    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Dep. var.: Solar.R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: poly(Wind, 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Estimate Std. Error   t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)    170.3429    15.8361 10.756599 7.2127e-11 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)1 -78.9215   265.2646 -0.297520 7.6853e-01    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)2 130.2447   250.8995  0.519111 6.0825e-01    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: poly(Temp, 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Estimate Std. Error   t value  Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)    141.7373    34.9269  4.058112 0.0004267 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Temp, 2)1 610.4434   708.8908  0.861125 0.3973535    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Temp, 2)2 -62.8161   420.0627 -0.149540 0.8823275    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # SAMPLE: 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Dep. var.: Ozone</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: poly(Wind, 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 Estimate Std. Error  t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)      32.4899    3.00730 10.80367 4.1394e-11 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)1 -151.1122   39.26645 -3.84838 6.9340e-04 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)2  166.7517   45.93576  3.63011 1.2171e-03 ** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: poly(Temp, 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Estimate Std. Error  t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)     35.7733    1.92538 18.57989  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Temp, 2)1 198.9668   30.21319  6.58543 5.5334e-07 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Temp, 2)2 160.4793   32.36259  4.95879 3.7465e-05 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Dep. var.: Solar.R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: poly(Wind, 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Estimate Std. Error   t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)    168.0471    14.9433 11.245665 1.0799e-11 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)1 -94.9627   195.7141 -0.485211 6.3144e-01    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)2  27.9996   231.6709  0.120859 9.0470e-01    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: poly(Temp, 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Estimate Std. Error   t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)     166.482    15.3173 10.868939 2.3073e-11 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Temp, 2)1  204.784   241.8651  0.846686 4.0461e-01    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Temp, 2)2 -146.653   256.4108 -0.571947 5.7209e-01    </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Different way of displaying the results with "compact"</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">est_split</span>, <span class="st">"compact"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    sample     lhs           rhs    (Intercept) poly(Wind, 2)1 poly(Wind, 2)2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       5 Ozone   poly(Wind, 2) 29.9*** (4.62)   -180* (68.1)    93.3 (55.7)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       5 Ozone   poly(Temp, 2) 60.9*** (13.3)                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       5 Solar.R poly(Wind, 2)  186*** (27.2)    -102 (404)     -249 (327) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       5 Solar.R poly(Temp, 2)    185* (72.5)                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       6 Ozone   poly(Wind, 2)   21.8. (9.49)     167 (162)    -60.6 (92.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       6 Ozone   poly(Temp, 2) 34.3*** (4.15)                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7       6 Solar.R poly(Wind, 2)  188*** (16.5)    390. (195)    -72.8 (156) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8       6 Solar.R poly(Temp, 2)  188*** (21.4)                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9       7 Ozone   poly(Wind, 2) 49.8*** (5.52)  -281** (84.3)      58 (108) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10      7 Ozone   poly(Temp, 2)   29.2. (16.1)                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11      7 Solar.R poly(Wind, 2)  213*** (16.3)    -144 (247)     8.71 (325) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12      7 Solar.R poly(Temp, 2)   172** (54.6)                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13      8 Ozone   poly(Wind, 2) 49.7*** (6.15)  -289** (97.1)     116 (90)  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14      8 Ozone   poly(Temp, 2)    26.1 (16.6)                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15      8 Solar.R poly(Wind, 2)  170*** (15.8)   -78.9 (265)      130 (251) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16      8 Solar.R poly(Temp, 2)  142*** (34.9)                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17      9 Ozone   poly(Wind, 2) 32.5*** (3.01) -151*** (39.3)   167** (45.9)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18      9 Ozone   poly(Temp, 2) 35.8*** (1.93)                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19      9 Solar.R poly(Wind, 2)  168*** (14.9)     -95 (196)       28 (232) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20      9 Solar.R poly(Temp, 2)  166*** (15.3)                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    poly(Temp, 2)1 poly(Temp, 2)2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     436* (163)      157 (108) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     -306 (881)     -823 (548) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      115 (62.2)    206* (80)  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      576 (374)      134 (364) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10    584* (266)     14.2 (199) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12     835 (905)     -107 (646) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14    678* (326)     -162 (188) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16     610 (709)    -62.8 (420) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  199*** (30.2)  160*** (32.4)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20     205 (242)     -147 (256) </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># You can still select which sample/LHS/RHS to display</span></span>
<span class="r-in"><span class="va">est_split</span><span class="op">[</span>sample <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, lhs <span class="op">=</span> <span class="fl">1</span>, rhs <span class="op">=</span> <span class="fl">1</span><span class="op">]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Standard-errors: IID </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dep. var.: Ozone</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: poly(Wind, 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sample: 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 Estimate Std. Error  t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)      29.8505    4.62478  6.45448 1.3810e-06 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)1 -180.1531   68.14588 -2.64364 1.4516e-02 *  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)2   93.3187   55.68940  1.67570 1.0734e-01    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sample: 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Estimate Std. Error   t value Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)     21.8206    9.48902  2.299565 0.061137 .  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)1 166.9646  161.90174  1.031271 0.342179    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> poly(Wind, 2)2 -60.6305   92.54148 -0.655171 0.536652    </span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># Argument sliding</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># When the data set is set up globally, you can use the vcov argument implicitly</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">base</span> <span class="op">=</span> <span class="va">iris</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">base</span><span class="op">)</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"y"</span>, <span class="st">"x1"</span>, <span class="st">"x2"</span>, <span class="st">"x3"</span>, <span class="st">"species"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">no_sliding</span> <span class="op">=</span> <span class="fu">feols</span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">+</span> <span class="va">x2</span>, <span class="va">base</span>, <span class="op">~</span><span class="va">species</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># With sliding</span></span>
<span class="r-in"><span class="fu"><a href="setFixest_estimation.html">setFixest_estimation</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">base</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># ~species is implicitly deduced to be equal to 'vcov'</span></span>
<span class="r-in"><span class="va">sliding</span> <span class="op">=</span> <span class="fu">feols</span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">+</span> <span class="va">x2</span>, <span class="op">~</span><span class="va">species</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="etable.html">etable</a></span><span class="op">(</span><span class="va">no_sliding</span>, <span class="va">sliding</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                         no_sliding            sliding</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dependent Var.:                  y                  y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)       2.249** (0.1626)   2.249** (0.1626)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1               0.5955** (0.0517)  0.5955** (0.0517)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x2              0.4719*** (0.0069) 0.4719*** (0.0069)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _______________ __________________ __________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S.E.: Clustered        by: species        by: species</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations                   150                150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R2                         0.84018            0.84018</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Adj. R2                    0.83800            0.83800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Resetting the global options</span></span>
<span class="r-in"><span class="fu"><a href="setFixest_estimation.html">setFixest_estimation</a></span><span class="op">(</span>data <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># Formula expansions</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># By default, the features of the xpd function are enabled in</span></span>
<span class="r-in"><span class="co"># all fixest estimations</span></span>
<span class="r-in"><span class="co"># Here's a few examples</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">base</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"y"</span>, <span class="st">"x1"</span>, <span class="st">"x2"</span>, <span class="st">"x3"</span>, <span class="st">"species"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># dot square bracket operator</span></span>
<span class="r-in"><span class="fu">feols</span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x.</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, <span class="va">base</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> OLS estimation, Dep. Var.: y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations: 150 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Standard-errors: IID </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate Std. Error  t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)  1.855997   0.250777  7.40098 9.8539e-12 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1           0.650837   0.066647  9.76538  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x2           0.709132   0.056719 12.50248  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x3          -0.556483   0.127548 -4.36293 2.4129e-05 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RMSE: 0.310327   Adj. R2: 0.855706</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># fetching variables via regular expressions: ..("regex")</span></span>
<span class="r-in"><span class="fu">feols</span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="fu">..</span><span class="op">(</span><span class="st">"1|2"</span><span class="op">)</span>, <span class="va">base</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> OLS estimation, Dep. Var.: y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations: 150 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Standard-errors: IID </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Estimate Std. Error  t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept) 2.249140   0.247970  9.07022 7.0385e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1          0.595525   0.069328  8.58994 1.1633e-14 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x2          0.471920   0.017118 27.56916  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RMSE: 0.329937   Adj. R2: 0.838003</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># NOTA: it also works for multiple LHS</span></span>
<span class="r-in"><span class="va">mult1</span> <span class="op">=</span> <span class="fu">feols</span><span class="op">(</span><span class="va">x.</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span> <span class="op">~</span> <span class="va">y</span> <span class="op">+</span> <span class="va">species</span>, <span class="va">base</span><span class="op">)</span></span>
<span class="r-in"><span class="va">mult2</span> <span class="op">=</span> <span class="fu">feols</span><span class="op">(</span><span class="fu">..</span><span class="op">(</span><span class="st">"y|3"</span><span class="op">)</span> <span class="op">~</span> <span class="va">x.</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span> <span class="op">+</span> <span class="va">species</span>, <span class="va">base</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="etable.html">etable</a></span><span class="op">(</span><span class="va">mult1</span>, <span class="va">mult2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                            mult1[[1]]         mult1[[2]]          mult2[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dependent Var.:                    x1                 x2                   y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)         1.677*** (0.2354) -1.702*** (0.2301)   2.390*** (0.2623)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y                  0.3499*** (0.0463) 0.6321*** (0.0453)                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> speciesversicolor -0.9834*** (0.0721)  2.210*** (0.0705) -0.9558*** (0.2152)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> speciesvirginica   -1.008*** (0.0933)  3.090*** (0.0912)  -1.394*** (0.2857)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1                                                        0.4322*** (0.0814)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x2                                                        0.7756*** (0.0643)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _________________ ___________________ __________________ ___________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S.E. type                         IID                IID                 IID</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations                      150                150                 150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R2                            0.56925            0.97489             0.86331</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Adj. R2                       0.56040            0.97438             0.85954</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                            mult2[[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dependent Var.:                    x3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)       -0.6953*** (0.1424)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y                                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> speciesversicolor  0.7369*** (0.1169)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> speciesvirginica    1.176*** (0.1551)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1                 0.2020*** (0.0442)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x2                 0.1701*** (0.0349)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _________________ ___________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S.E. type                         IID</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations                      150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R2                            0.95243</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Adj. R2                       0.95112</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Use .[, stuff] to include variables in functions:</span></span>
<span class="r-in"><span class="fu">feols</span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="fu"><a href="stepwise.html">csw</a></span><span class="op">(</span><span class="va">x.</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span>, <span class="va">base</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Standard-errors: IID </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: x1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate Std. Error  t value  Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)  6.526223   0.478896 13.62763 &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1          -0.223361   0.155081 -1.44029    0.1519    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: x1 + x2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Estimate Std. Error  t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept) 2.249140   0.247970  9.07022 7.0385e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1          0.595525   0.069328  8.58994 1.1633e-14 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x2          0.471920   0.017118 27.56916  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: x1 + x2 + x3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate Std. Error  t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)  1.855997   0.250777  7.40098 9.8539e-12 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1           0.650837   0.066647  9.76538  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x2           0.709132   0.056719 12.50248  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x3          -0.556483   0.127548 -4.36293 2.4129e-05 ***</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Same for ..(, "regex")</span></span>
<span class="r-in"><span class="fu">feols</span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="fu"><a href="stepwise.html">csw</a></span><span class="op">(</span><span class="fu">..</span><span class="op">(</span>,<span class="st">"x"</span><span class="op">)</span><span class="op">)</span>, <span class="va">base</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Standard-errors: IID </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: x1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate Std. Error  t value  Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)  6.526223   0.478896 13.62763 &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1          -0.223361   0.155081 -1.44029    0.1519    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: x1 + x2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Estimate Std. Error  t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept) 2.249140   0.247970  9.07022 7.0385e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1          0.595525   0.069328  8.58994 1.1633e-14 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x2          0.471920   0.017118 27.56916  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expl. vars.: x1 + x2 + x3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate Std. Error  t value   Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)  1.855997   0.250777  7.40098 9.8539e-12 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1           0.650837   0.066647  9.76538  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x2           0.709132   0.056719 12.50248  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x3          -0.556483   0.127548 -4.36293 2.4129e-05 ***</span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Laurent Berge.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

