<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Simple and powerful string manipulation with the dot square bracket operator — dsb • fixest</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Simple and powerful string manipulation with the dot square bracket operator — dsb"><meta name="description" content="Compactly performs many low level string operations. Advanced support for pluralization."><meta property="og:description" content="Compactly performs many low level string operations. Advanced support for pluralization."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fixest</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.12.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/fixest_walkthrough.html">Fast Fixed-Effects Estimation: Short Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/multiple_estimations.html">Multiple estimations</a></li>
    <li><a class="dropdown-item" href="../articles/standard_errors.html">On standard-errors</a></li>
    <li><a class="dropdown-item" href="../articles/collinearity.html">On collinearity</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Estimation tables</h6></li>
    <li><a class="dropdown-item" href="../articles/exporting_tables.html">Exporting estimation tables</a></li>
    <li><a class="dropdown-item" href="../articles/etable_new_features.html">`etable`: new features in `fixest` 0.10.2</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lrberge/fixest/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Simple and powerful string manipulation with the dot square bracket operator</h1>
      <small class="dont-index">Source: <a href="https://github.com/lrberge/fixest/blob/HEAD/R/dsb.R" class="external-link"><code>R/dsb.R</code></a></small>
      <div class="d-none name"><code>dsb.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Compactly performs many low level string operations. Advanced support for pluralization.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dsb</span><span class="op">(</span></span>
<span>  <span class="va">...</span>,</span>
<span>  frame <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  sep <span class="op">=</span> <span class="st">""</span>,</span>
<span>  vectorize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  nest <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  collapse <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Character scalars that will be collapsed with the argument <code>sep</code>. You can use <code>".[x]"</code> within each character string to insert the value of <code>x</code> in the string. You can add string operations in each <code>".[]"</code> instance with the syntax <code>"'arg'op ? x"</code> (resp. <code>"'arg'op ! x"</code>) to apply the operation <code>'op'</code> with the argument <code>'arg'</code> to <code>x</code> (resp. the verbatim of <code>x</code>). Otherwise, what to say? Ah, nesting is enabled, and since there's over 30 operators, it's a bit complicated to sort you out in this small space. But type <code>dsb("--help")</code> to prompt an (almost) extensive help.</p></dd>


<dt id="arg-frame">frame<a class="anchor" aria-label="anchor" href="#arg-frame"></a></dt>
<dd><p>An environment used to evaluate the variables in <code>".[]"</code>.</p></dd>


<dt id="arg-sep">sep<a class="anchor" aria-label="anchor" href="#arg-sep"></a></dt>
<dd><p>Character scalar, default is <code>""</code>. It is used to collapse all the elements in <code>...</code>.</p></dd>


<dt id="arg-vectorize">vectorize<a class="anchor" aria-label="anchor" href="#arg-vectorize"></a></dt>
<dd><p>Logical, default is <code>FALSE</code>. If <code>TRUE</code>, Further, elements in <code>...</code> are NOT collapsed together, but instead vectorised.</p></dd>


<dt id="arg-nest">nest<a class="anchor" aria-label="anchor" href="#arg-nest"></a></dt>
<dd><p>Logical, default is <code>TRUE</code>. Whether the original character strings should be nested into a <code>".[]"</code>. If <code>TRUE</code>, then things like <code>dsb("S!one, two")</code> are equivalent to <code>dsb(".[S!one, two]")</code> and hence create the vector <code>c("one", "two")</code>.</p></dd>


<dt id="arg-collapse">collapse<a class="anchor" aria-label="anchor" href="#arg-collapse"></a></dt>
<dd><p>Character scalar or <code>NULL</code> (default). If provided, the resulting character vector will be collapsed into a character scalar using this value as a separator.</p>
<p>There are over 30 basic string operations, it supports pluralization, it's fast (e.g. faster than <code>glue</code> in the benchmarks), string operations can be nested (it may be the most powerful feature), operators have sensible defaults.</p>
<p>See detailed help on the console with <code>dsb("--help")</code>. The real help is in fact in the "Examples" section.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>It returns a character vector whose length depends on the elements and operations in <code>".[]"</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># BASIC USAGE ####</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Romeo"</span>, <span class="st">"Juliet"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># .[x] inserts x</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"Hello .[x]!"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hello Romeo!</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hello Juliet!</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># elements in ... are collapsed with "" (default)</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"Hello .[x[1]], "</span>,</span></span>
<span class="r-in"><span>    <span class="st">"how is .[x[2]] doing?"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hello Romeo, how is Juliet doing?</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Splitting a comma separated string</span></span></span>
<span class="r-in"><span><span class="co"># The mechanism is explained later</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"/J. Mills, David, Agnes, Dr Strong"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> J. Mills</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> David</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Agnes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dr Strong</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Nota: this is equivalent to (explained later)</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"', *'S !J. Mills, David, Agnes, Dr Strong"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> J. Mills</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> David</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Agnes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dr Strong</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># Applying low level operations to strings</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Two main syntax:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A) expression evaluation</span></span></span>
<span class="r-in"><span><span class="co"># .[operation ? x]</span></span></span>
<span class="r-in"><span><span class="co">#             | |</span></span></span>
<span class="r-in"><span><span class="co">#             |  \-&gt; the expression to be evaluated</span></span></span>
<span class="r-in"><span><span class="co">#              \-&gt; ? means that the expression will be evaluated</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># B) verbatim</span></span></span>
<span class="r-in"><span><span class="co"># .[operation ! x]</span></span></span>
<span class="r-in"><span><span class="co">#             | |</span></span></span>
<span class="r-in"><span><span class="co">#             |  \-&gt; the expression taken as verbatim (here ' x')</span></span></span>
<span class="r-in"><span><span class="co">#              \-&gt; ! means that the expression is taken as verbatim</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># operation: usually 'arg'op with op an operation code.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example: splitting</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">=</span> <span class="st">"hello dear"</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">".[' 's ? x]"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> hello</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dear</span>
<span class="r-in"><span><span class="co"># x is split by ' '</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">".[' 's !hello dear]"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> hello</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dear</span>
<span class="r-in"><span><span class="co"># 'hello dear' is split by ' '</span></span></span>
<span class="r-in"><span><span class="co"># had we used ?, there would have been an error</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># By default, the string is nested in .[], so in that case no need to use .[]:</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"' 's ? x"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> hello</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dear</span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"' 's !hello dear"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> hello</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dear</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># There are 35 string operators</span></span></span>
<span class="r-in"><span><span class="co"># Operators usually have a default value</span></span></span>
<span class="r-in"><span><span class="co"># Operations can be chained by separating them with a comma</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example: default of 's' is ' ' + chaining with collapse</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"s, ' my 'c!hello dear"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> hello my dear</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># Nesting</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># .[operations ! s1.[expr]s2]</span></span></span>
<span class="r-in"><span><span class="co">#              |    |</span></span></span>
<span class="r-in"><span><span class="co">#              |     \-&gt; expr will be evaluated then added to the string</span></span></span>
<span class="r-in"><span><span class="co">#               \-&gt; nesting requires verbatim evaluation: '!'</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"The variables are: .[C!x.[1:4]]."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The variables are: x1, x2, x3 and x4.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This one is a bit ugly but it shows triple nesting</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"The variables are: .[w, C!.[2* ! x.[1:4]].[S, 4** ! , _sq]]."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The variables are: x1, x2, x3, x4, x1_sq, x2_sq, x3_sq and x4_sq.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># Splitting</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># s: split with fixed pattern, default is ' '</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"s !a b c"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> b</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c</span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"' b 's !a b c"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># S: split with regex pattern, default is ', *'</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"S !a, b, c"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> b</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c</span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"'[[:punct:] ]'S !a! b; c"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> b</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># Collapsing</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># c and C do the same, their default is different</span></span></span>
<span class="r-in"><span><span class="co"># syntax: 's1||s2' with</span></span></span>
<span class="r-in"><span><span class="co"># - s1 the string used for collapsing</span></span></span>
<span class="r-in"><span><span class="co"># - s2 (optional) the string used for the last collapse</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># c: default is ' '</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"c?1:3"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 2 3</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># C: default is ', || and '</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"C?1:3"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1, 2 and 3</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"', || or 'c?1:4"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1, 2, 3 or 4</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># Extraction</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># x: extracts the first pattern</span></span></span>
<span class="r-in"><span><span class="co"># X: extracts all patterns</span></span></span>
<span class="r-in"><span><span class="co"># syntax: 'pattern'x</span></span></span>
<span class="r-in"><span><span class="co"># Default is '[[:alnum:]]+'</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">=</span> <span class="st">"This years is... 2020"</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"x ? x"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This</span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"X ? x"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> years</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2020</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"'\\d+'x ? x"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2020</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># STRING FORMATTING ####</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># u, U: uppercase first/all letters</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># first letter</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"u!julia mills"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Julia mills</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># title case: split -&gt; upper first letter -&gt; collapse</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"s, u, c!julia mills"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Julia Mills</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># upper all letters</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"U!julia mills"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> JULIA MILLS</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># L: lowercase</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"L!JULIA MILLS"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> julia mills</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># q, Q: single or double quote</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"S, q, C!Julia, David, Wilkins"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'Julia', 'David' and 'Wilkins'</span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"S, Q, C!Julia, David, Wilkins"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "Julia", "David" and "Wilkins"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># f, F: formats the string to fit the same length</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">score</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>, <span class="fl">2050</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">nm</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Wilkins"</span>, <span class="st">"David"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"Monopoly scores:\n.['\n'c ! - .[f ? nm]: .[F ? score] US$]"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Monopoly scores:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Wilkins:  -10 US$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - David  : 2050 US$</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># OK that example may have been a bit too complex,</span></span></span>
<span class="r-in"><span><span class="co"># let's make it simple:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"Scores: .[f ? score]"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Scores: -10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Scores: 2050</span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"Names: .[F ? nm]"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Names: Wilkins</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Names:   David</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># w, W: reformat the white spaces</span></span></span>
<span class="r-in"><span><span class="co"># w: suppresses trimming white spaces + normalizes successive white spaces</span></span></span>
<span class="r-in"><span><span class="co"># W: same but also includes punctuation</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"w ! The   white  spaces are now clean.  "</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The white spaces are now clean.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"W ! I, really -- truly; love punctuation!!!"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> I really truly love punctuation </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># %: applies sprintf formatting</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"pi = .['.2f'% ? pi]"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> pi = 3.14</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># a: appends text on each item</span></span></span>
<span class="r-in"><span><span class="co"># syntax: 's1|s2'a, adds s1 at the beginning and s2 at the end of the string</span></span></span>
<span class="r-in"><span><span class="co"># It accepts the special values :1:, :i:, :I:, :a:, :A:</span></span></span>
<span class="r-in"><span><span class="co"># These values create enumerations (only one such value is accepted)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># appending square brackets</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"'[|]'a, ' + 'c!x.[1:4]"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [x1] + [x2] + [x3] + [x4]</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Enumerations</span></span></span>
<span class="r-in"><span><span class="va">acad</span> <span class="op">=</span> <span class="fu">dsb</span><span class="op">(</span><span class="st">"/you like admin, you enjoy working on weekends, you really love emails"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"Main reasons to pursue an academic career:\n .[':i:) 'a, C ? acad]."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Main reasons to pursue an academic career:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  i) you like admin, ii) you enjoy working on weekends and iii) you really love emails.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># A: same as 'a' but adds at the begging/end of the full string (not on the elements)</span></span></span>
<span class="r-in"><span><span class="co"># special values: :n:, :N:, give the number of elements</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">characters</span> <span class="op">=</span> <span class="fu">dsb</span><span class="op">(</span><span class="st">"/David, Wilkins, Dora, Agnes"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"There are .[':N: characters: 'A, C ? characters]."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> There are four characters: David, Wilkins, Dora and Agnes.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># stop: removes basic English stopwords</span></span></span>
<span class="r-in"><span><span class="co"># the list is from the Snowball project: http://snowball.tartarus.org/algorithms/english/stop.txt</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"stop, w!It is a tale told by an idiot, full of sound and fury, signifying nothing."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tale told idiot, full sound fury, signifying nothing.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># k: keeps the first n characters</span></span></span>
<span class="r-in"><span><span class="co"># syntax: nk: keeps the first n characters</span></span></span>
<span class="r-in"><span><span class="co">#         'n|s'k: same + adds 's' at the end of shortened strings</span></span></span>
<span class="r-in"><span><span class="co">#         'n||s'k: same but 's' counts in the n characters kept</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">words</span> <span class="op">=</span> <span class="fu">dsb</span><span class="op">(</span><span class="st">"/short, constitutional"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"5k ? words"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> short</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> const</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"'5|..'k ? words"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> short</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> const..</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"'5||..'k ? words"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> short</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> con..</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># K: keeps the first n elements</span></span></span>
<span class="r-in"><span><span class="co"># syntax: nK: keeps the first n elements</span></span></span>
<span class="r-in"><span><span class="co">#         'n|s'K: same + adds the element 's' at the end</span></span></span>
<span class="r-in"><span><span class="co">#         'n||s'K: same but 's' counts in the n elements kept</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># Special values :rest: and :REST:, give the number of items dropped</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">bx</span> <span class="op">=</span> <span class="fu">dsb</span><span class="op">(</span><span class="st">"/Pessac Leognan, Saint Emilion, Marguaux, Saint Julien, Pauillac"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"Bordeaux wines I like: .[3K, ', 'C ? bx]."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bordeaux wines I like: Pessac Leognan, Saint Emilion, Marguaux.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"Bordeaux wines I like: .['3|etc..'K, ', 'C ? bx]."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bordeaux wines I like: Pessac Leognan, Saint Emilion, Marguaux, etc...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"Bordeaux wines I like: .['3||etc..'K, ', 'C ? bx]."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bordeaux wines I like: Pessac Leognan, Saint Emilion, etc...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"Bordeaux wines I like: .['3|and at least :REST: others'K, ', 'C ? bx]."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bordeaux wines I like: Pessac Leognan, Saint Emilion, Marguaux, and at least two others.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># Ko, KO: special operator which keeps the first n elements and adds "others"</span></span></span>
<span class="r-in"><span><span class="co"># syntax: nKo</span></span></span>
<span class="r-in"><span><span class="co"># KO gives the rest in letters</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"Bordeaux wines I like: .[4KO, C ? bx]."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bordeaux wines I like: Pessac Leognan, Saint Emilion, Marguaux and two others.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># r, R: string replacement</span></span></span>
<span class="r-in"><span><span class="co"># syntax: 's'R: deletes the content in 's' (replaces with the empty string)</span></span></span>
<span class="r-in"><span><span class="co">#         's1 =&gt; s2'R replaces s1 into s2</span></span></span>
<span class="r-in"><span><span class="co"># r: fixed / R: perl = TRUE</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"'e'r !The letter e is deleted"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Th lttr  is dltd</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># adding a perl look-behind</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"'(?&lt;! )e'R !The letter e is deleted"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Th lttr e is dltd</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"'e =&gt; a'r !The letter e becomes a"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tha lattar a bacomas a</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"'([[:alpha:]]{3})[[:alpha:]]+ =&gt; \\1.'R !Trimming the words"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tri. the wor.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># *, *c, **, **c: replication, replication + collapse</span></span></span>
<span class="r-in"><span><span class="co"># syntax: n* or n*c</span></span></span>
<span class="r-in"><span><span class="co"># ** is the same as * but uses "each" in the replication</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"N.[10*c!o]!"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Noooooooooo!</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"3*c ? 1:3"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 123123123</span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"3**c ? 1:3"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 111222333</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># d: replaces the items by the empty string</span></span></span>
<span class="r-in"><span><span class="co"># -&gt; useful in conditions</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"d!I am going to be annihilated"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># ELEMENT MANIPULATION ####</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># D: deletes all elements</span></span></span>
<span class="r-in"><span><span class="co"># -&gt; useful in conditions</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">=</span> <span class="fu">dsb</span><span class="op">(</span><span class="st">"/I'll, be, deleted"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"D ? x"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># i, I: inserts an item</span></span></span>
<span class="r-in"><span><span class="co"># syntax: 's1|s2'i: inserts s1 first and s2 last</span></span></span>
<span class="r-in"><span><span class="co"># I: is the same as i but is 'invisibly' included</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">characters</span> <span class="op">=</span> <span class="fu">dsb</span><span class="op">(</span><span class="st">"/David, Wilkins, Dora, Agnes, Trotwood"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"'Heep|Spenlow'i, C ? characters"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Heep, David, Wilkins, Dora, Agnes, Trotwood and Spenlow</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"'Heep|Spenlow'I, C ? characters"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Heep</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> David, Wilkins, Dora, Agnes and Trotwood</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Spenlow</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># PLURALIZATION ####</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># There is support for pluralization</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># *s, *s_: adds 's' or 's ' depending on the number of elements</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">nb</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"Number.[*s, D ? nb]: .[C ? nb]"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Numbers: 1, 2, 3, 4 and 5</span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"Number.[*s, D ? 2 ]: .[C ? 2 ]"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number: 2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># or</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"Number.[*s, ': 'A, C ? nb]"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Numbers: 1, 2, 3, 4 and 5</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># v, V: adds a verb at the beginning/end of the string</span></span></span>
<span class="r-in"><span><span class="co"># syntax: 'verb'v</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Unpopular opinion?</span></span></span>
<span class="r-in"><span><span class="va">brand</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Apple"</span>, <span class="st">"Samsung"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">".[V, C ? brand] overrated."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Apple and Samsung are overrated.</span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">".[V, C ? brand[1]] overrated."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Apple is overrated.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">win</span> <span class="op">=</span> <span class="fu">dsb</span><span class="op">(</span><span class="st">"/Peggoty, Agnes, Emily"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"The winner.[*s_, v, C ? win]."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The winners are Peggoty, Agnes and Emily.</span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"The winner.[*s_, v, C ? win[1]]."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The winner is Peggoty.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Other verbs</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">".[' have'V, C ? win] won a prize."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Peggoty, Agnes and Emily have won a prize.</span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">".[' have'V, C ? win[1]] won a prize."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Peggoty has won a prize.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">".[' was'V, C ? win] unable to come."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Peggoty, Agnes and Emily were unable to come.</span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">".[' was'V, C ? win[1]] unable to come."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Peggoty was unable to come.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># *A: appends text depending on the length of the vector</span></span></span>
<span class="r-in"><span><span class="co"># syntax: 's1|s2 / s3|s4'</span></span></span>
<span class="r-in"><span><span class="co">#         if length == 1: applies 's1|s2'A</span></span></span>
<span class="r-in"><span><span class="co">#         if length &gt;  1: applies 's3|s4'A</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">win</span> <span class="op">=</span> <span class="fu">dsb</span><span class="op">(</span><span class="st">"/Barkis, Micawber, Murdstone"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"The winner.[' is /s are '*A, C ? win]."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The winners are Barkis, Micawber and Murdstone.</span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"The winner.[' is /s are '*A, C ? win[1]]."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The winner is Barkis.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># CONDITIONS ####</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Conditions can be applied with 'if' statements.",</span></span></span>
<span class="r-in"><span><span class="co"># The syntax is 'type comp value'if(true : false), with</span></span></span>
<span class="r-in"><span><span class="co"># - type: either 'len', 'char', 'fixed' or 'regex'</span></span></span>
<span class="r-in"><span><span class="co">#   + len: number of elements in the vector</span></span></span>
<span class="r-in"><span><span class="co">#   + char: number of characters</span></span></span>
<span class="r-in"><span><span class="co">#   + fixed: fixed pattern</span></span></span>
<span class="r-in"><span><span class="co">#   + regex: regular expression pattern</span></span></span>
<span class="r-in"><span><span class="co"># - comp: a comparator:</span></span></span>
<span class="r-in"><span><span class="co">#   + valid for len/char: &gt;, &lt;, &gt;=, &lt;=, !=, ==</span></span></span>
<span class="r-in"><span><span class="co">#   + valid for fixed/regex: !=, ==</span></span></span>
<span class="r-in"><span><span class="co"># - value: a value for which the comparison is applied.</span></span></span>
<span class="r-in"><span><span class="co"># - true: operations to be applied if true (can be void)</span></span></span>
<span class="r-in"><span><span class="co"># - false: operations to be applied if false (can be void)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"'char &lt;= 2'if('(|)'a : '[|]'a), ' + 'c ? c(1, 12, 123)"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (1) + (12) + [123]</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">sentence</span> <span class="op">=</span> <span class="st">"This is a sentence with some longish words."</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"s, 'char&lt;=4'if(D), c ? sentence"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sentence longish words.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"s, 'fixed == e'if(:D), c ! Only words with an e are selected."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> e are selected.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># ARGUMENTS FROM THE FRAME ####</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Arguments can be evaluated from the calling frame.</span></span></span>
<span class="r-in"><span><span class="co"># Simply use backticks instead of quotes.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dollar</span> <span class="op">=</span> <span class="fl">6</span></span></span>
<span class="r-in"><span><span class="va">reason</span> <span class="op">=</span> <span class="st">"glory"</span></span></span>
<span class="r-in"><span><span class="fu">dsb</span><span class="op">(</span><span class="st">"Why do you develop packages? For .[`dollar`*c!$]?"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"For money? No... for .[U,''s, c?reason]!"</span>, sep <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Why do you develop packages? For $$$$$$?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> For money? No... for G L O R Y!</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Laurent Berge.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

